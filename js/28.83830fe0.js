"use strict";(self["webpackChunkmy_vue_app"]=self["webpackChunkmy_vue_app"]||[]).push([[28],{6209:function(e,t,n){n.r(t),n.d(t,{default:function(){return Ri}});var s=n(6436),a=n(7959),o=n(5167),r=n(6173),i=n(1810),l=n(4605),c=n(4127),u=n(648),d=(n(8111),n(7588),n(3579),n(4603),n(7566),n(8721),n(1469)),f=n(7510);const h={class:"modal-body"},p={class:"form-group"},g={key:0,class:"error-message"},v={class:"form-group"},m={key:0,class:"error-message"},b={class:"form-group"},k={key:0,class:"error-message"},y={class:"modal-footer"},w=["disabled"],_={key:0,class:"fas fa-spinner fa-spin"};var L={__name:"PasswordUpdateDialog",emits:["close","success"],setup(e,{emit:t}){const n=t,r=(0,o.KR)(!1),i=(0,o.Kh)({currentPassword:"",newPassword:"",confirmPassword:""}),l=(0,o.Kh)({currentPassword:"",newPassword:"",confirmPassword:""}),L=e=>{const t=i[e];switch(e){case"currentPassword":t.trim()?l[e]="":l[e]="请输入当前密码";break;case"newPassword":{const n=(0,f.Oj)(t);l[e]=n.valid?"":n.message,i.confirmPassword&&L("confirmPassword");break}case"confirmPassword":t.trim()?t!==i.newPassword?l[e]="两次输入的密码不一致":l[e]="":l[e]="请确认新密码";break}},x=e=>{l[e]&&(l[e]="")},C=(0,s.EW)(()=>{const e=i.currentPassword&&i.newPassword&&i.confirmPassword,t=!Object.values(l).some(e=>""!==e);return e&&t}),S=async()=>{if(Object.keys(i).forEach(e=>{L(e)}),C.value){r.value=!0;try{const e=await(0,u.Em)("/api/auth/account-settings-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"update_password",old_password:i.currentPassword,new_password:i.newPassword})});"ok"===e.status?(c.nk.success(e.message||"密码修改成功"),n("success"),M()):e.message&&e.message.includes("旧密码验证失败")?c.nk.error("旧密码错误，无法修改密码"):c.nk.error(e.message||"密码修改失败")}catch(e){c.nk.error("密码修改失败")}finally{r.value=!1}}else c.nk.error("请检查输入内容")},M=()=>{n("close")};return(e,t)=>((0,s.uX)(),(0,s.Wv)(s.Im,{to:"body"},[(0,s.Lk)("div",{class:"modal-overlay",onClick:M},[(0,s.Lk)("div",{class:"modal-content",onClick:t[9]||(t[9]=(0,d.D$)(()=>{},["stop"]))},[(0,s.Lk)("div",{class:"modal-header"},[t[11]||(t[11]=(0,s.Lk)("h3",null,"修改密码",-1)),(0,s.Lk)("button",{class:"modal-close",onClick:M},t[10]||(t[10]=[(0,s.Lk)("i",{class:"fas fa-times"},null,-1)]))]),(0,s.Lk)("div",h,[(0,s.Lk)("div",p,[t[12]||(t[12]=(0,s.Lk)("label",{class:"form-label"},"当前密码",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.currentPassword=e),type:"password",class:"form-input",placeholder:"请输入当前密码",onBlur:t[1]||(t[1]=e=>L("currentPassword")),onInput:t[2]||(t[2]=e=>x("currentPassword"))},null,544),[[d.Jo,i.currentPassword]]),l.currentPassword?((0,s.uX)(),(0,s.CE)("div",g,(0,a.v_)(l.currentPassword),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",v,[t[13]||(t[13]=(0,s.Lk)("label",{class:"form-label"},"新密码",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>i.newPassword=e),type:"password",class:"form-input",placeholder:"请输入新密码（8-32位）",onBlur:t[4]||(t[4]=e=>L("newPassword")),onInput:t[5]||(t[5]=e=>x("newPassword"))},null,544),[[d.Jo,i.newPassword]]),l.newPassword?((0,s.uX)(),(0,s.CE)("div",m,(0,a.v_)(l.newPassword),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",b,[t[14]||(t[14]=(0,s.Lk)("label",{class:"form-label"},"确认新密码",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>i.confirmPassword=e),type:"password",class:"form-input",placeholder:"请再次输入新密码",onBlur:t[7]||(t[7]=e=>L("confirmPassword")),onInput:t[8]||(t[8]=e=>x("confirmPassword"))},null,544),[[d.Jo,i.confirmPassword]]),l.confirmPassword?((0,s.uX)(),(0,s.CE)("div",k,(0,a.v_)(l.confirmPassword),1)):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",y,[(0,s.Lk)("button",{class:"modal-btn secondary",onClick:M},"取消"),(0,s.Lk)("button",{class:"modal-btn primary",disabled:!C.value||r.value,onClick:S},[r.value?((0,s.uX)(),(0,s.CE)("i",_)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,a.v_)(r.value?"修改中...":"确认修改"),1)],8,w)])])])]))}},x=n(5932);const C=(0,x.A)(L,[["__scopeId","data-v-3b9ad107"]]);var S=C;const M={class:"modal-body"},E={key:0,class:"current-info"},O={class:"info-value"},P={class:"form-group"},T={key:0,class:"error-message"},D={class:"modal-footer"},I=["disabled"],A={key:0,class:"loading-spinner"};var R={__name:"EmailUpdateDialog",props:{currentEmail:{type:String,default:""}},emits:["close","success"],setup(e,{emit:t}){const n=e,r=t,i=(0,o.KR)(!1),l=(0,o.Kh)({newEmail:""}),f=(0,o.Kh)({newEmail:""}),h=e=>{const t=l[e];switch(e){case"newEmail":t.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)?t===n.currentEmail?f[e]="新邮箱不能与当前邮箱相同":f[e]="":f[e]="请输入有效的邮箱地址":f[e]="请输入新邮箱地址";break}},p=e=>{f[e]&&(f[e]="")},g=(0,s.EW)(()=>{const e=l.newEmail,t=!Object.values(f).some(e=>""!==e);return e&&t}),v=async()=>{if(Object.keys(l).forEach(e=>{h(e)}),g.value){i.value=!0;try{const e=await(0,u.Em)("/api/auth/account-settings-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"update_email",new_email:l.newEmail})});"ok"===e.status?(c.nk.success(e.message||"邮箱修改成功"),r("success"),m()):c.nk.error(e.message||"邮箱修改失败")}catch(e){c.nk.error("邮箱修改失败")}finally{i.value=!1}}else c.nk.error("请检查输入内容")},m=()=>{r("close")};return(t,n)=>((0,s.uX)(),(0,s.Wv)(s.Im,{to:"body"},[(0,s.Lk)("div",{class:"modal-overlay",onClick:m},[(0,s.Lk)("div",{class:"modal-content",onClick:n[3]||(n[3]=(0,d.D$)(()=>{},["stop"]))},[(0,s.Lk)("div",{class:"modal-header"},[n[5]||(n[5]=(0,s.Lk)("h3",{class:"modal-title"},"修改邮箱",-1)),(0,s.Lk)("button",{class:"modal-close",onClick:m},n[4]||(n[4]=[(0,s.Lk)("i",{class:"fas fa-times"},null,-1)]))]),(0,s.Lk)("div",M,[e.currentEmail?((0,s.uX)(),(0,s.CE)("div",E,[n[6]||(n[6]=(0,s.Lk)("label",{class:"info-label"},"当前邮箱",-1)),(0,s.Lk)("div",O,(0,a.v_)(e.currentEmail),1)])):(0,s.Q3)("",!0),(0,s.Lk)("div",P,[n[7]||(n[7]=(0,s.Lk)("label",{class:"form-label"},"新邮箱",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>l.newEmail=e),type:"email",class:"form-input",placeholder:"请输入新邮箱地址",onBlur:n[1]||(n[1]=e=>h("newEmail")),onInput:n[2]||(n[2]=e=>p("newEmail"))},null,544),[[d.Jo,l.newEmail]]),f.newEmail?((0,s.uX)(),(0,s.CE)("div",T,(0,a.v_)(f.newEmail),1)):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",D,[(0,s.Lk)("button",{class:"modal-btn secondary",onClick:m},"取消"),(0,s.Lk)("button",{class:"modal-btn primary",disabled:!g.value||i.value,onClick:v},[i.value?((0,s.uX)(),(0,s.CE)("span",A)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,a.v_)(i.value?"修改中...":"确认修改"),1)],8,I)])])])]))}};const B=(0,x.A)(R,[["__scopeId","data-v-59bde783"]]);var N=B,q=(n(4114),n(2489),n(1701),n(8237),n(7642),n(8004),n(3853),n(5876),n(2475),n(5024),n(1698),Object.defineProperty),z=(e,t,n)=>t in e?q(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t,n)=>(z(e,"symbol"!=typeof t?t+"":t,n),n);
/**
* @vue/shared v3.5.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
function U(e,t){const n=new Set(e.split(","));return t?e=>n.has(e.toLowerCase()):e=>n.has(e)}const X={},j=[],Q=()=>{},W=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),K=Object.assign,H=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},J=Object.prototype.hasOwnProperty,$=(e,t)=>J.call(e,t),V=Array.isArray,Y=e=>"[object Map]"===oe(e),G=e=>"[object Set]"===oe(e),Z=e=>"function"==typeof e,ee=e=>"string"==typeof e,te=e=>"symbol"==typeof e,ne=e=>null!==e&&"object"==typeof e,se=e=>(ne(e)||Z(e))&&Z(e.then)&&Z(e.catch),ae=Object.prototype.toString,oe=e=>ae.call(e),re=e=>oe(e).slice(8,-1),ie=e=>"[object Object]"===oe(e),le=e=>ee(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,ce=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},ue=ce(e=>e.charAt(0).toUpperCase()+e.slice(1)),de=(ce(e=>e?`on${ue(e)}`:""),(e,t)=>!Object.is(e,t)),fe=e=>{const t=ee(e)?Number(e):NaN;return isNaN(t)?e:t};let he;const pe=()=>he||(he=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ge(e){if(V(e)){const t={};for(let n=0;n<e.length;n++){const s=e[n],a=ee(s)?ke(s):ge(s);if(a)for(const e in a)t[e]=a[e]}return t}if(ee(e)||ne(e))return e}const ve=/;(?![^(]*\))/g,me=/:([^]+)/,be=/\/\*[^]*?\*\//g;function ke(e){const t={};return e.replace(be,"").split(ve).forEach(e=>{if(e){const n=e.split(me);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ye(e){let t="";if(ee(e))t=e;else if(V(e))for(let n=0;n<e.length;n++){const s=ye(e[n]);s&&(t+=s+" ")}else if(ne(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const we=e=>!(!e||!0!==e.__v_isRef),_e=e=>ee(e)?e:null==e?"":V(e)||ne(e)&&(e.toString===ae||!Z(e.toString))?we(e)?_e(e.value):JSON.stringify(e,Le,2):String(e),Le=(e,t)=>we(t)?Le(e,t.value):Y(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],s)=>(e[xe(t,s)+" =>"]=n,e),{})}:G(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>xe(e))}:te(t)?xe(t):!ne(t)||V(t)||ie(t)?t:String(t),xe=(e,t="")=>{var n;return te(e)?`Symbol(${null!=(n=e.description)?n:t})`:e};
/**
* @vue/reactivity v3.5.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ce;const Se=new WeakSet;class Me{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.nextEffect=void 0,this.cleanup=void 0,this.scheduler=void 0}pause(){this.flags|=64}resume(){64&this.flags&&(this.flags&=-65,Se.has(this)&&(Se.delete(this),this.trigger()))}notify(){2&this.flags&&!(32&this.flags)||8&this.flags||(this.flags|=8,this.nextEffect=Ee,Ee=this)}run(){if(!(1&this.flags))return this.fn();this.flags|=2,Xe(this),De(this);const e=Ce,t=qe;Ce=this,qe=!0;try{return this.fn()}finally{Ie(this),Ce=e,qe=t,this.flags&=-3}}stop(){if(1&this.flags){for(let e=this.deps;e;e=e.nextDep)Be(e);this.deps=this.depsTail=void 0,Xe(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){64&this.flags?Se.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ae(this)&&this.run()}get dirty(){return Ae(this)}}let Ee,Oe=0;function Pe(){Oe++}function Te(){if(--Oe>0)return;let e;for(;Ee;){let n=Ee;for(Ee=void 0;n;){const s=n.nextEffect;if(n.nextEffect=void 0,n.flags&=-9,1&n.flags)try{n.trigger()}catch(t){e||(e=t)}n=s}}if(e)throw e}function De(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ie(e){let t,n=e.depsTail;for(let s=n;s;s=s.prevDep)-1===s.version?(s===n&&(n=s.prevDep),Be(s),Ne(s)):t=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0;e.deps=t,e.depsTail=n}function Ae(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&!1===Re(t.dep.computed)||t.dep.version!==t.version)return!0;return!!e._dirty}function Re(e){if(2&e.flags)return!1;if(4&e.flags&&!(16&e.flags)||(e.flags&=-17,e.globalVersion===je))return;e.globalVersion=je;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&!Ae(e))return void(e.flags&=-3);const n=Ce,s=qe;Ce=e,qe=!0;try{De(e);const n=e.fn(e._value);(0===t.version||de(n,e._value))&&(e._value=n,t.version++)}catch(a){throw t.version++,a}finally{Ce=n,qe=s,Ie(e),e.flags&=-3}}function Be(e){const{dep:t,prevSub:n,nextSub:s}=e;if(n&&(n.nextSub=s,e.prevSub=void 0),s&&(s.prevSub=n,e.nextSub=void 0),t.subs===e&&(t.subs=n),!t.subs&&t.computed){t.computed.flags&=-5;for(let e=t.computed.deps;e;e=e.nextDep)Be(e)}}function Ne(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let qe=!0;const ze=[];function Fe(){ze.push(qe),qe=!1}function Ue(){const e=ze.pop();qe=void 0===e||e}function Xe(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const e=Ce;Ce=void 0;try{t()}finally{Ce=e}}}let je=0;class Qe{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0}track(e){if(!Ce||!qe||Ce===this.computed)return;let t=this.activeLink;if(void 0===t||t.sub!==Ce)t=this.activeLink={dep:this,sub:Ce,version:this.version,nextDep:void 0,prevDep:void 0,nextSub:void 0,prevSub:void 0,prevActiveLink:void 0},Ce.deps?(t.prevDep=Ce.depsTail,Ce.depsTail.nextDep=t,Ce.depsTail=t):Ce.deps=Ce.depsTail=t,4&Ce.flags&&We(t);else if(-1===t.version&&(t.version=this.version,t.nextDep)){const e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=Ce.depsTail,t.nextDep=void 0,Ce.depsTail.nextDep=t,Ce.depsTail=t,Ce.deps===t&&(Ce.deps=e)}return t}trigger(e){this.version++,je++,this.notify(e)}notify(e){Pe();try{0;for(let e=this.subs;e;e=e.prevSub)e.sub.notify()}finally{Te()}}}function We(e){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)We(e)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}const Ke=new WeakMap,He=Symbol(""),Je=Symbol(""),$e=Symbol("");function Ve(e,t,n){if(qe&&Ce){let t=Ke.get(e);t||Ke.set(e,t=new Map);let s=t.get(n);s||t.set(n,s=new Qe),s.track()}}function Ye(e,t,n,s,a,o){const r=Ke.get(e);if(!r)return void je++;let i=[];if("clear"===t)i=[...r.values()];else{const a=V(e),o=a&&le(n);if(a&&"length"===n){const e=Number(s);r.forEach((t,n)=>{("length"===n||n===$e||!te(n)&&n>=e)&&i.push(t)})}else{const s=e=>e&&i.push(e);switch(void 0!==n&&s(r.get(n)),o&&s(r.get($e)),t){case"add":a?o&&s(r.get("length")):(s(r.get(He)),Y(e)&&s(r.get(Je)));break;case"delete":a||(s(r.get(He)),Y(e)&&s(r.get(Je)));break;case"set":Y(e)&&s(r.get(He));break}}}Pe();for(const l of i)l.trigger();Te()}function Ge(e){const t=Jt(e);return t===e?t:(Ve(t,"iterate",$e),Kt(e)?t:t.map($t))}function Ze(e){return Ve(e=Jt(e),"iterate",$e),e}const et={__proto__:null,[Symbol.iterator](){return tt(this,Symbol.iterator,$t)},concat(...e){return Ge(this).concat(...e.map(e=>V(e)?Ge(e):e))},entries(){return tt(this,"entries",e=>(e[1]=$t(e[1]),e))},every(e,t){return st(this,"every",e,t,void 0,arguments)},filter(e,t){return st(this,"filter",e,t,e=>e.map($t),arguments)},find(e,t){return st(this,"find",e,t,$t,arguments)},findIndex(e,t){return st(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return st(this,"findLast",e,t,$t,arguments)},findLastIndex(e,t){return st(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return st(this,"forEach",e,t,void 0,arguments)},includes(...e){return ot(this,"includes",e)},indexOf(...e){return ot(this,"indexOf",e)},join(e){return Ge(this).join(e)},lastIndexOf(...e){return ot(this,"lastIndexOf",e)},map(e,t){return st(this,"map",e,t,void 0,arguments)},pop(){return rt(this,"pop")},push(...e){return rt(this,"push",e)},reduce(e,...t){return at(this,"reduce",e,t)},reduceRight(e,...t){return at(this,"reduceRight",e,t)},shift(){return rt(this,"shift")},some(e,t){return st(this,"some",e,t,void 0,arguments)},splice(...e){return rt(this,"splice",e)},toReversed(){return Ge(this).toReversed()},toSorted(e){return Ge(this).toSorted(e)},toSpliced(...e){return Ge(this).toSpliced(...e)},unshift(...e){return rt(this,"unshift",e)},values(){return tt(this,"values",$t)}};function tt(e,t,n){const s=Ze(e),a=s[t]();return s!==e&&!Kt(e)&&(a._next=a.next,a.next=()=>{const e=a._next();return e.value&&(e.value=n(e.value)),e}),a}const nt=Array.prototype;function st(e,t,n,s,a,o){const r=Ze(e),i=r!==e&&!Kt(e),l=r[t];if(l!==nt[t]){const t=l.apply(e,o);return i?$t(t):t}let c=n;r!==e&&(i?c=function(t,s){return n.call(this,$t(t),s,e)}:n.length>2&&(c=function(t,s){return n.call(this,t,s,e)}));const u=l.call(r,c,s);return i&&a?a(u):u}function at(e,t,n,s){const a=Ze(e);let o=n;return a!==e&&(Kt(e)?n.length>3&&(o=function(t,s,a){return n.call(this,t,s,a,e)}):o=function(t,s,a){return n.call(this,t,$t(s),a,e)}),a[t](o,...s)}function ot(e,t,n){const s=Jt(e);Ve(s,"iterate",$e);const a=s[t](...n);return-1!==a&&!1!==a||!Ht(n[0])?a:(n[0]=Jt(n[0]),s[t](...n))}function rt(e,t,n=[]){Fe(),Pe();const s=Jt(e)[t].apply(e,n);return Te(),Ue(),s}const it=U("__proto__,__v_isRef,__isVue"),lt=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>"arguments"!==e&&"caller"!==e).map(e=>Symbol[e]).filter(te));function ct(e){te(e)||(e=String(e));const t=Jt(this);return Ve(t,"has",e),t.hasOwnProperty(e)}class ut{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){const s=this._isReadonly,a=this._isShallow;if("__v_isReactive"===t)return!s;if("__v_isReadonly"===t)return s;if("__v_isShallow"===t)return a;if("__v_raw"===t)return n===(s?a?qt:Nt:a?Bt:Rt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=V(e);if(!s){let e;if(o&&(e=et[t]))return e;if("hasOwnProperty"===t)return ct}const r=Reflect.get(e,t,Yt(e)?e:n);return(te(t)?lt.has(t):it(t))||(s||Ve(e,"get",t),a)?r:Yt(r)?o&&le(t)?r:r.value:ne(r)?s?Xt(r):Ut(r):r}}class dt extends ut{constructor(e=!1){super(!1,e)}set(e,t,n,s){let a=e[t];if(!this._isShallow){const t=Wt(a);if(!Kt(n)&&!Wt(n)&&(a=Jt(a),n=Jt(n)),!V(e)&&Yt(a)&&!Yt(n))return!t&&(a.value=n,!0)}const o=V(e)&&le(t)?Number(t)<e.length:$(e,t),r=Reflect.set(e,t,n,Yt(e)?e:s);return e===Jt(s)&&(o?de(n,a)&&Ye(e,"set",t,n,a):Ye(e,"add",t,n)),r}deleteProperty(e,t){const n=$(e,t),s=e[t],a=Reflect.deleteProperty(e,t);return a&&n&&Ye(e,"delete",t,void 0,s),a}has(e,t){const n=Reflect.has(e,t);return(!te(t)||!lt.has(t))&&Ve(e,"has",t),n}ownKeys(e){return Ve(e,"iterate",V(e)?"length":He),Reflect.ownKeys(e)}}class ft extends ut{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const ht=new dt,pt=new ft,gt=e=>e,vt=e=>Reflect.getPrototypeOf(e);function mt(e,t,n=!1,s=!1){e=e.__v_raw;const a=Jt(e),o=Jt(t);n||(de(t,o)&&Ve(a,"get",t),Ve(a,"get",o));const{has:r}=vt(a),i=s?gt:n?Vt:$t;return r.call(a,t)?i(e.get(t)):r.call(a,o)?i(e.get(o)):void(e!==a&&e.get(t))}function bt(e,t=!1){const n=this.__v_raw,s=Jt(n),a=Jt(e);return t||(de(e,a)&&Ve(s,"has",e),Ve(s,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function kt(e,t=!1){return e=e.__v_raw,!t&&Ve(Jt(e),"iterate",He),Reflect.get(e,"size",e)}function yt(e,t=!1){!t&&!Kt(e)&&!Wt(e)&&(e=Jt(e));const n=Jt(this);return vt(n).has.call(n,e)||(n.add(e),Ye(n,"add",e,e)),this}function wt(e,t,n=!1){!n&&!Kt(t)&&!Wt(t)&&(t=Jt(t));const s=Jt(this),{has:a,get:o}=vt(s);let r=a.call(s,e);!r&&(e=Jt(e),r=a.call(s,e));const i=o.call(s,e);return s.set(e,t),r?de(t,i)&&Ye(s,"set",e,t,i):Ye(s,"add",e,t),this}function _t(e){const t=Jt(this),{has:n,get:s}=vt(t);let a=n.call(t,e);!a&&(e=Jt(e),a=n.call(t,e));const o=s?s.call(t,e):void 0,r=t.delete(e);return a&&Ye(t,"delete",e,void 0,o),r}function Lt(){const e=Jt(this),t=0!==e.size,n=void 0,s=e.clear();return t&&Ye(e,"clear",void 0,void 0,n),s}function xt(e,t){return function(n,s){const a=this,o=a.__v_raw,r=Jt(o),i=t?gt:e?Vt:$t;return!e&&Ve(r,"iterate",He),o.forEach((e,t)=>n.call(s,i(e),i(t),a))}}function Ct(e,t,n){return function(...s){const a=this.__v_raw,o=Jt(a),r=Y(o),i="entries"===e||e===Symbol.iterator&&r,l="keys"===e&&r,c=a[e](...s),u=n?gt:t?Vt:$t;return!t&&Ve(o,"iterate",l?Je:He),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:i?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function St(e){return function(...t){return"delete"!==e&&("clear"===e?void 0:this)}}function Mt(){const e={get(e){return mt(this,e)},get size(){return kt(this)},has:bt,add:yt,set:wt,delete:_t,clear:Lt,forEach:xt(!1,!1)},t={get(e){return mt(this,e,!1,!0)},get size(){return kt(this)},has:bt,add(e){return yt.call(this,e,!0)},set(e,t){return wt.call(this,e,t,!0)},delete:_t,clear:Lt,forEach:xt(!1,!0)},n={get(e){return mt(this,e,!0)},get size(){return kt(this,!0)},has(e){return bt.call(this,e,!0)},add:St("add"),set:St("set"),delete:St("delete"),clear:St("clear"),forEach:xt(!0,!1)},s={get(e){return mt(this,e,!0,!0)},get size(){return kt(this,!0)},has(e){return bt.call(this,e,!0)},add:St("add"),set:St("set"),delete:St("delete"),clear:St("clear"),forEach:xt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=Ct(a,!1,!1),n[a]=Ct(a,!0,!1),t[a]=Ct(a,!1,!0),s[a]=Ct(a,!0,!0)}),[e,n,t,s]}const[Et,Ot,Pt,Tt]=Mt();function Dt(e,t){const n=t?e?Tt:Pt:e?Ot:Et;return(t,s,a)=>"__v_isReactive"===s?!e:"__v_isReadonly"===s?e:"__v_raw"===s?t:Reflect.get($(n,s)&&s in t?n:t,s,a)}const It={get:Dt(!1,!1)},At={get:Dt(!0,!1)};const Rt=new WeakMap,Bt=new WeakMap,Nt=new WeakMap,qt=new WeakMap;function zt(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ft(e){return e.__v_skip||!Object.isExtensible(e)?0:zt(re(e))}function Ut(e){return Wt(e)?e:jt(e,!1,ht,It,Rt)}function Xt(e){return jt(e,!0,pt,At,Nt)}function jt(e,t,n,s,a){if(!ne(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const r=Ft(e);if(0===r)return e;const i=new Proxy(e,2===r?s:n);return a.set(e,i),i}function Qt(e){return Wt(e)?Qt(e.__v_raw):!(!e||!e.__v_isReactive)}function Wt(e){return!(!e||!e.__v_isReadonly)}function Kt(e){return!(!e||!e.__v_isShallow)}function Ht(e){return!!e&&!!e.__v_raw}function Jt(e){const t=e&&e.__v_raw;return t?Jt(t):e}const $t=e=>ne(e)?Ut(e):e,Vt=e=>ne(e)?Xt(e):e;function Yt(e){return!!e&&!0===e.__v_isRef}function Gt(e){return Yt(e)?e.value:e}const Zt={get:(e,t,n)=>"__v_raw"===t?e:Gt(Reflect.get(e,t,n)),set:(e,t,n,s)=>{const a=e[t];return Yt(a)&&!Yt(n)?(a.value=n,!0):Reflect.set(e,t,n,s)}};function en(e){return Qt(e)?e:new Proxy(e,Zt)}class tn{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new Qe(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=je-1,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){Ce===this||(this.flags|=16,this.dep.notify())}get value(){const e=this.dep.track();return Re(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function nn(e,t,n=!1){let s,a;Z(e)?s=e:(s=e.get,a=e.set);const o=new tn(s,a,n);return o}const sn={},an=new WeakMap;let on;function rn(e,t=!1,n=on){if(n){let t=an.get(n);t||an.set(n,t=[]),t.push(e)}}function ln(e,t,n=X){const{immediate:s,deep:a,once:o,scheduler:r,augmentJob:i,call:l}=n,c=e=>a?e:Kt(e)||!1===a||0===a?cn(e,1):cn(e);let u,d,f,h,p=!1,g=!1;if(Yt(e)?(d=()=>e.value,p=Kt(e)):Qt(e)?(d=()=>c(e),p=!0):V(e)?(g=!0,p=e.some(e=>Qt(e)||Kt(e)),d=()=>e.map(e=>Yt(e)?e.value:Qt(e)?c(e):Z(e)?l?l(e,2):e():void 0)):Z(e)?d=t?l?()=>l(e,2):e:()=>{if(f){Fe();try{f()}finally{Ue()}}const t=on;on=u;try{return l?l(e,3,[h]):e(h)}finally{on=t}}:d=Q,t&&a){const e=d,t=!0===a?1/0:a;d=()=>cn(e(),t)}const v=()=>{u.stop()};if(o)if(t){const e=t;t=(...t)=>{e(...t),v()}}else{const e=d;d=()=>{e(),v()}}let m=g?new Array(e.length).fill(sn):sn;const b=e=>{if(1&u.flags&&(u.dirty||e))if(t){const e=u.run();if(a||p||(g?e.some((e,t)=>de(e,m[t])):de(e,m))){f&&f();const n=on;on=u;try{const n=[e,m===sn?void 0:g&&m[0]===sn?[]:m,h];l?l(t,3,n):t(...n),m=e}finally{on=n}}}else u.run()};return i&&i(b),u=new Me(d),u.scheduler=r?()=>r(b,!1):b,h=e=>rn(e,!1,u),f=u.onStop=()=>{const e=an.get(u);if(e){if(l)l(e,4);else for(const t of e)t();an.delete(u)}},t?s?b(!0):m=u.run():r?r(b.bind(null,!0),!0):u.run(),v.pause=u.pause.bind(u),v.resume=u.resume.bind(u),v.stop=v,v}function cn(e,t=1/0,n){if(t<=0||!ne(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Yt(e))cn(e.value,t,n);else if(V(e))for(let s=0;s<e.length;s++)cn(e[s],t,n);else if(G(e)||Y(e))e.forEach(e=>{cn(e,t,n)});else if(ie(e)){for(const s in e)cn(e[s],t,n);for(const s of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,s)&&cn(e[s],t,n)}return e}
/**
* @vue/runtime-core v3.5.3
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function un(e,t,n,s){try{return s?e(...s):e()}catch(a){fn(a,t,n)}}function dn(e,t,n,s){if(Z(e)){const a=un(e,t,n,s);return a&&se(a)&&a.catch(e=>{fn(e,t,n)}),a}if(V(e)){const a=[];for(let o=0;o<e.length;o++)a.push(dn(e[o],t,n,s));return a}}function fn(e,t,n,s=!0){const a=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:r}=t&&t.appContext.config||X;if(t){let s=t.parent;const a=t.proxy,r=`https://vuejs.org/error-reference/#runtime-${n}`;for(;s;){const t=s.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,a,r))return;s=s.parent}if(o)return Fe(),un(o,null,10,[e,a,r]),void Ue()}hn(e,n,a,s,r)}function hn(e,t,n,s=!0,a=!1){if(a)throw e}let pn=!1,gn=!1;const vn=[];let mn=0;const bn=[];let kn=null,yn=0;const wn=Promise.resolve();let _n=null;function Ln(e){let t=pn?mn+1:0,n=vn.length;for(;t<n;){const s=t+n>>>1,a=vn[s],o=En(a);o<e||o===e&&2&a.flags?t=s+1:n=s}return t}function xn(e){if(!(1&e.flags)){const t=En(e),n=vn[vn.length-1];!n||!(2&e.flags)&&t>=En(n)?vn.push(e):vn.splice(Ln(t),0,e),e.flags|=1,Cn()}}function Cn(){!pn&&!gn&&(gn=!0,_n=wn.then(On))}function Sn(e){V(e)?bn.push(...e):kn&&-1===e.id?kn.splice(yn+1,0,e):1&e.flags||(bn.push(e),e.flags|=1),Cn()}function Mn(e){if(bn.length){const e=[...new Set(bn)].sort((e,t)=>En(e)-En(t));if(bn.length=0,kn)return void kn.push(...e);for(kn=e,yn=0;yn<kn.length;yn++){const e=kn[yn];4&e.flags&&(e.flags&=-2),8&e.flags||e(),e.flags&=-2}kn=null,yn=0}}const En=e=>null==e.id?2&e.flags?-1:1/0:e.id;function On(e){gn=!1,pn=!0;try{for(mn=0;mn<vn.length;mn++){const e=vn[mn];!e||8&e.flags||(4&e.flags&&(e.flags&=-2),un(e,e.i,e.i?15:14),e.flags&=-2)}}finally{for(;mn<vn.length;mn++){const e=vn[mn];e&&(e.flags&=-2)}mn=0,vn.length=0,Mn(e),pn=!1,_n=null,(vn.length||bn.length)&&On(e)}}let Pn=null,Tn=null;function Dn(e){const t=Pn;return Pn=e,Tn=e&&e.type.__scopeId||null,t}function In(e,t=Pn,n){if(!t||e._n)return e;const s=(...n)=>{s._d&&ea(-1);const a=Dn(t);let o;try{o=e(...n)}finally{Dn(a),s._d&&ea(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}const An=e=>e.__isTeleport;function Rn(e,t){6&e.shapeFlag&&e.component?(e.transition=t,Rn(e.component.subTree,t)):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}
/*! #__NO_SIDE_EFFECTS__ */function Bn(e,t){return Z(e)?(()=>K({name:e.name},t,{setup:e}))():e}function Nn(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const qn=e=>e.type.__isKeepAlive;function zn(e,t){Un(e,"a",t)}function Fn(e,t){Un(e,"da",t)}function Un(e,t,n=ka){const s=e.__wdc||(e.__wdc=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(jn(t,s,n),n){let e=n.parent;for(;e&&e.parent;)qn(e.parent.vnode)&&Xn(s,t,n,e),e=e.parent}}function Xn(e,t,n,s){const a=jn(t,e,s,!0);Vn(()=>{H(s[t],a)},n)}function jn(e,t,n=ka,s=!1){if(n){const a=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{Fe();const a=_a(n),o=dn(t,n,e,s);return a(),Ue(),o});return s?a.unshift(o):a.push(o),o}}const Qn=e=>(t,n=ka)=>{(!Ca||"sp"===e)&&jn(e,(...e)=>t(...e),n)},Wn=Qn("bm"),Kn=Qn("m"),Hn=Qn("bu"),Jn=Qn("u"),$n=Qn("bum"),Vn=Qn("um"),Yn=Qn("sp"),Gn=Qn("rtg"),Zn=Qn("rtc");function es(e,t=ka){jn("ec",e,t)}const ts=Symbol.for("v-ndc");function ns(e){return V(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}function ss(e){const t=ya();let n=e();return La(),se(n)&&(n=n.catch(e=>{throw _a(t),e})),[n,()=>_a(t)]}let as=!0;function os(e){const t=cs(e),n=e.proxy,s=e.ctx;as=!1,t.beforeCreate&&is(t.beforeCreate,e,"bc");const{data:a,computed:o,methods:r,watch:i,provide:l,inject:c,created:u,beforeMount:d,mounted:f,beforeUpdate:h,updated:p,activated:g,deactivated:v,beforeDestroy:m,beforeUnmount:b,destroyed:k,unmounted:y,render:w,renderTracked:_,renderTriggered:L,errorCaptured:x,serverPrefetch:C,expose:S,inheritAttrs:M,components:E,directives:O,filters:P}=t,T=null;if(c&&rs(c,s,T),r)for(const I in r){const e=r[I];Z(e)&&(s[I]=e.bind(n))}if(a){const t=a.call(n,n);ne(t)&&(e.data=Ut(t))}if(as=!0,o)for(const I in o){const e=o[I],t=Z(e)?e.bind(n,n):Z(e.get)?e.get.bind(n,n):Q,a=!Z(e)&&Z(e.set)?e.set.bind(n):Q,r=Oa({get:t,set:a});Object.defineProperty(s,I,{enumerable:!0,configurable:!0,get:()=>r.value,set:e=>r.value=e})}if(i)for(const I in i)ls(i[I],s,n,I);if(l){const e=Z(l)?l.call(n):l;Reflect.ownKeys(e).forEach(t=>{ys(t,e[t])})}function D(e,t){V(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(u&&is(u,e,"c"),D(Wn,d),D(Kn,f),D(Hn,h),D(Jn,p),D(zn,g),D(Fn,v),D(es,x),D(Zn,_),D(Gn,L),D($n,b),D(Vn,y),D(Yn,C),V(S))if(S.length){const t=e.exposed||(e.exposed={});S.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})})}else e.exposed||(e.exposed={});w&&e.render===Q&&(e.render=w),null!=M&&(e.inheritAttrs=M),E&&(e.components=E),O&&(e.directives=O),C&&Nn(e)}function rs(e,t,n=Q){V(e)&&(e=ps(e));for(const s in e){const n=e[s];let a;a=ne(n)?"default"in n?ws(n.from||s,n.default,!0):ws(n.from||s):ws(n),Yt(a)?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[s]=a}}function is(e,t,n){dn(V(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function ls(e,t,n,s){let a=s.includes(".")?Os(n,s):()=>n[s];if(ee(e)){const n=t[e];Z(n)&&Ms(a,n)}else if(Z(e))Ms(a,e.bind(n));else if(ne(e))if(V(e))e.forEach(e=>ls(e,t,n,s));else{const s=Z(e.handler)?e.handler.bind(n):t[e.handler];Z(s)&&Ms(a,s,e)}}function cs(e){const t=e.type,{mixins:n,extends:s}=t,{mixins:a,optionsCache:o,config:{optionMergeStrategies:r}}=e.appContext,i=o.get(t);let l;return i?l=i:a.length||n||s?(l={},a.length&&a.forEach(e=>us(l,e,r,!0)),us(l,t,r)):l=t,ne(t)&&o.set(t,l),l}function us(e,t,n,s=!1){const{mixins:a,extends:o}=t;o&&us(e,o,n,!0),a&&a.forEach(t=>us(e,t,n,!0));for(const r in t)if(s&&"expose"===r);else{const s=ds[r]||n&&n[r];e[r]=s?s(e[r],t[r]):t[r]}return e}const ds={data:fs,props:ms,emits:ms,methods:vs,computed:vs,beforeCreate:gs,created:gs,beforeMount:gs,mounted:gs,beforeUpdate:gs,updated:gs,beforeDestroy:gs,beforeUnmount:gs,destroyed:gs,unmounted:gs,activated:gs,deactivated:gs,errorCaptured:gs,serverPrefetch:gs,components:vs,directives:vs,watch:bs,provide:fs,inject:hs};function fs(e,t){return t?e?function(){return K(Z(e)?e.call(this,this):e,Z(t)?t.call(this,this):t)}:t:e}function hs(e,t){return vs(ps(e),ps(t))}function ps(e){if(V(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function gs(e,t){return e?[...new Set([].concat(e,t))]:t}function vs(e,t){return e?K(Object.create(null),e,t):t}function ms(e,t){return e?V(e)&&V(t)?[...new Set([...e,...t])]:K(Object.create(null),ns(e),ns(t??{})):t}function bs(e,t){if(!e)return t;if(!t)return e;const n=K(Object.create(null),e);for(const s in t)n[s]=gs(e[s],t[s]);return n}let ks=null;function ys(e,t){if(ka){let n=ka.provides;const s=ka.parent&&ka.parent.provides;s===n&&(n=ka.provides=Object.create(s)),n[e]=t}else;}function ws(e,t,n=!1){const s=ka||Pn;if(s||ks){const a=s?null==s.parent?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(a&&e in a)return a[e];if(arguments.length>1)return n&&Z(t)?t.call(s&&s.proxy):t}}const _s={},Ls=e=>Object.getPrototypeOf(e)===_s;const xs=js,Cs=Symbol.for("v-scx"),Ss=()=>{{const e=ws(Cs);return e}};function Ms(e,t,n){return Es(e,t,n)}function Es(e,t,n=X){const{immediate:s,deep:a,flush:o,once:r}=n,i=K({},n);let l;if(Ca)if("sync"===o){const e=Ss();l=e.__watcherHandles||(e.__watcherHandles=[])}else{if(t&&!s)return{stop:Q,resume:Q,pause:Q};i.once=!0}const c=ka;i.call=(e,t,n)=>dn(e,c,t,n);let u=!1;"post"===o?i.scheduler=e=>{xs(e,c&&c.suspense)}:"sync"!==o&&(u=!0,i.scheduler=(e,t)=>{t?e():xn(e)}),i.augmentJob=e=>{t&&(e.flags|=4),u&&(e.flags|=2,c&&(e.id=c.uid,e.i=c))};const d=ln(e,t,i);return l&&l.push(d),d}function Os(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Ps(e,t=!0){let n;for(let s=0;s<e.length;s++){const t=e[s];if(!aa(t))return;if(t.type!==Js||"v-if"===t.children){if(n)return;n=t,0}}return n}function Ts({vnode:e,parent:t},n){for(;t;){const s=t.subTree;if(s.suspense&&s.suspense.activeBranch===e&&(s.el=e.el),s!==e)break;(e=t.vnode).el=n,t=t.parent}}const Ds=e=>e.__isSuspense;let Is=0;const As={name:"Suspense",__isSuspense:!0,process(e,t,n,s,a,o,r,i,l,c){if(null==e)Ns(t,n,s,a,o,r,i,l,c);else{if(o&&o.deps>0&&!e.suspense.isInFallback)return t.suspense=e.suspense,t.suspense.vnode=t,void(t.el=e.el);qs(e,t,n,s,a,r,i,l,c)}},hydrate:Fs,normalize:Us},Rs=As;function Bs(e,t){const n=e.props&&e.props[t];Z(n)&&n()}function Ns(e,t,n,s,a,o,r,i,l){const{p:c,o:{createElement:u}}=l,d=u("div"),f=e.suspense=zs(e,a,s,t,d,n,o,r,i,l);c(null,f.pendingBranch=e.ssContent,d,null,s,f,o,r),f.deps>0?(Bs(e,"onPending"),Bs(e,"onFallback"),c(null,e.ssFallback,t,n,s,null,o,r),Qs(f,e.ssFallback)):f.resolve(!1,!0)}function qs(e,t,n,s,a,o,r,i,{p:l,um:c,o:{createElement:u}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,h=t.ssFallback,{activeBranch:p,pendingBranch:g,isInFallback:v,isHydrating:m}=d;if(g)d.pendingBranch=f,oa(f,g)?(l(g,f,d.hiddenContainer,null,a,d,o,r,i),d.deps<=0?d.resolve():v&&(m||(l(p,h,n,s,a,null,o,r,i),Qs(d,h)))):(d.pendingId=Is++,m?(d.isHydrating=!1,d.activeBranch=g):c(g,a,d),d.deps=0,d.effects.length=0,d.hiddenContainer=u("div"),v?(l(null,f,d.hiddenContainer,null,a,d,o,r,i),d.deps<=0?d.resolve():(l(p,h,n,s,a,null,o,r,i),Qs(d,h))):p&&oa(f,p)?(l(p,f,n,s,a,d,o,r,i),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,a,d,o,r,i),d.deps<=0&&d.resolve()));else if(p&&oa(f,p))l(p,f,n,s,a,d,o,r,i),Qs(d,f);else if(Bs(t,"onPending"),d.pendingBranch=f,512&f.shapeFlag?d.pendingId=f.component.suspenseId:d.pendingId=Is++,l(null,f,d.hiddenContainer,null,a,d,o,r,i),d.deps<=0)d.resolve();else{const{timeout:e,pendingId:t}=d;e>0?setTimeout(()=>{d.pendingId===t&&d.fallback(h)},e):0===e&&d.fallback(h)}}function zs(e,t,n,s,a,o,r,i,l,c,u=!1){const{p:d,m:f,um:h,n:p,o:{parentNode:g,remove:v}}=c;let m;const b=Ws(e);b&&t&&t.pendingBranch&&(m=t.pendingId,t.deps++);const k=e.props?fe(e.props.timeout):void 0,y=o,w={vnode:e,parent:t,parentComponent:n,namespace:r,container:s,hiddenContainer:a,deps:0,pendingId:Is++,timeout:"number"==typeof k?k:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(e=!1,n=!1){const{vnode:s,activeBranch:a,pendingBranch:r,pendingId:i,effects:l,parentComponent:c,container:u}=w;let d=!1;w.isHydrating?w.isHydrating=!1:e||(d=a&&r.transition&&"out-in"===r.transition.mode,d&&(a.transition.afterLeave=()=>{i===w.pendingId&&(f(r,u,o===y?p(a):o,0),Sn(l))}),a&&(g(a.el)===u&&(o=p(a)),h(a,c,w,!0)),d||f(r,u,o,0)),Qs(w,r),w.pendingBranch=null,w.isInFallback=!1;let v=w.parent,k=!1;for(;v;){if(v.pendingBranch){v.effects.push(...l),k=!0;break}v=v.parent}!k&&!d&&Sn(l),w.effects=[],b&&t&&t.pendingBranch&&m===t.pendingId&&(t.deps--,0===t.deps&&!n&&t.resolve()),Bs(s,"onResolve")},fallback(e){if(!w.pendingBranch)return;const{vnode:t,activeBranch:n,parentComponent:s,container:a,namespace:o}=w;Bs(t,"onFallback");const r=p(n),c=()=>{w.isInFallback&&(d(null,e,a,r,s,null,o,i,l),Qs(w,e))},u=e.transition&&"out-in"===e.transition.mode;u&&(n.transition.afterLeave=c),w.isInFallback=!0,h(n,s,null,!0),u||c()},move(e,t,n){w.activeBranch&&f(w.activeBranch,e,t,n),w.container=e},next(){return w.activeBranch&&p(w.activeBranch)},registerDep(e,t,n){const s=!!w.pendingBranch;s&&w.deps++;const a=e.vnode.el;e.asyncDep.catch(t=>{fn(t,e,0)}).then(o=>{if(e.isUnmounted||w.isUnmounted||w.pendingId!==e.suspenseId)return;e.asyncResolved=!0;const{vnode:i}=e;Sa(e,o,!1),a&&(i.el=a);const l=!a&&e.subTree.el;t(e,i,g(a||e.subTree.el),a?null:p(e.subTree),w,r,n),l&&v(l),Ts(e,i.el),s&&0===--w.deps&&w.resolve()})},unmount(e,t){w.isUnmounted=!0,w.activeBranch&&h(w.activeBranch,n,e,t),w.pendingBranch&&h(w.pendingBranch,n,e,t)}};return w}function Fs(e,t,n,s,a,o,r,i,l){const c=t.suspense=zs(t,s,n,e.parentNode,document.createElement("div"),null,a,o,r,i,!0),u=l(e,c.pendingBranch=t.ssContent,n,c,o,r);return 0===c.deps&&c.resolve(!1,!0),u}function Us(e){const{shapeFlag:t,children:n}=e,s=32&t;e.ssContent=Xs(s?n.default:n),e.ssFallback=s?Xs(n.fallback):ca(Js)}function Xs(e){let t;if(Z(e)){const n=Zs&&e._c;n&&(e._d=!1,Ys()),e=e(),n&&(e._d=!0,t=Vs,Gs())}if(V(e)){const t=Ps(e);e=t}return e=ga(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(t=>t!==e)),e}function js(e,t){t&&t.pendingBranch?V(e)?t.effects.push(...e):t.effects.push(e):Sn(e)}function Qs(e,t){e.activeBranch=t;const{vnode:n,parentComponent:s}=e;let a=t.el;for(;!a&&t.component;)t=t.component.subTree,a=t.el;n.el=a,s&&s.subTree===n&&(s.vnode.el=a,Ts(s,a))}function Ws(e){const t=e.props&&e.props.suspensible;return null!=t&&!1!==t}const Ks=Symbol.for("v-fgt"),Hs=Symbol.for("v-txt"),Js=Symbol.for("v-cmt"),$s=[];let Vs=null;function Ys(e=!1){$s.push(Vs=e?null:[])}function Gs(){$s.pop(),Vs=$s[$s.length-1]||null}let Zs=1;function ea(e){Zs+=e,e<0&&Vs&&(Vs.hasOnce=!0)}function ta(e){return e.dynamicChildren=Zs>0?Vs||j:null,Gs(),Zs>0&&Vs&&Vs.push(e),e}function na(e,t,n,s,a,o){return ta(la(e,t,n,s,a,o,!0))}function sa(e,t,n,s,a){return ta(ca(e,t,n,s,a,!0))}function aa(e){return!!e&&!0===e.__v_isVNode}function oa(e,t){return e.type===t.type&&e.key===t.key}const ra=({key:e})=>e??null,ia=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?ee(e)||Yt(e)||Z(e)?{i:Pn,r:e,k:t,f:!!n}:e:null);function la(e,t=null,n=null,s=0,a=null,o=(e===Ks?0:1),r=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ra(t),ref:t&&ia(t),scopeId:Tn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:s,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:Pn};return i?(ma(l,n),128&o&&e.normalize(l)):n&&(l.shapeFlag|=ee(n)?8:16),Zs>0&&!r&&Vs&&(l.patchFlag>0||6&o)&&32!==l.patchFlag&&Vs.push(l),l}const ca=ua;function ua(e,t=null,n=null,s=0,a=null,o=!1){if((!e||e===ts)&&(e=Js),aa(e)){const s=fa(e,t,!0);return n&&ma(s,n),Zs>0&&!o&&Vs&&(6&s.shapeFlag?Vs[Vs.indexOf(e)]=s:Vs.push(s)),s.patchFlag=-2,s}if(Ea(e)&&(e=e.__vccOpts),t){t=da(t);let{class:e,style:n}=t;e&&!ee(e)&&(t.class=ye(e)),ne(n)&&(Ht(n)&&!V(n)&&(n=K({},n)),t.style=ge(n))}const r=ee(e)?1:Ds(e)?128:An(e)?64:ne(e)?4:Z(e)?2:0;return la(e,t,n,s,a,r,o,!0)}function da(e){return e?Ht(e)||Ls(e)?K({},e):e:null}function fa(e,t,n=!1,s=!1){const{props:a,ref:o,patchFlag:r,children:i,transition:l}=e,c=t?ba(a||{},t):a,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:c,key:c&&ra(c),ref:t&&t.ref?n&&o?V(o)?o.concat(ia(t)):[o,ia(t)]:ia(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ks?-1===r?16:16|r:r,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:l,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&fa(e.ssContent),ssFallback:e.ssFallback&&fa(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return l&&s&&Rn(u,l.clone(u)),u}function ha(e=" ",t=0){return ca(Hs,null,e,t)}function pa(e="",t=!1){return t?(Ys(),sa(Js,null,e)):ca(Js,null,e)}function ga(e){return null==e||"boolean"==typeof e?ca(Js):V(e)?ca(Ks,null,e.slice()):"object"==typeof e?va(e):ca(Hs,null,String(e))}function va(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:fa(e)}function ma(e,t){let n=0;const{shapeFlag:s}=e;if(null==t)t=null;else if(V(t))n=16;else if("object"==typeof t){if(65&s){const n=t.default;return void(n&&(n._c&&(n._d=!1),ma(e,n()),n._c&&(n._d=!0)))}{n=32;const s=t._;s||Ls(t)?3===s&&Pn&&(1===Pn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Pn}}else Z(t)?(t={default:t,_ctx:Pn},n=32):(t=String(t),64&s?(n=16,t=[ha(t)]):n=8);e.children=t,e.shapeFlag|=n}function ba(...e){const t={};for(let n=0;n<e.length;n++){const s=e[n];for(const e in s)if("class"===e)t.class!==s.class&&(t.class=ye([t.class,s.class]));else if("style"===e)t.style=ge([t.style,s.style]);else if(W(e)){const n=t[e],a=s[e];a&&n!==a&&(!V(n)||!n.includes(a))&&(t[e]=n?[].concat(n,a):a)}else""!==e&&(t[e]=s[e])}return t}let ka=null;const ya=()=>ka||Pn;let wa;{const e=pe(),t=(t,n)=>{let s;return(s=e[t])||(s=e[t]=[]),s.push(n),e=>{s.length>1?s.forEach(t=>t(e)):s[0](e)}};wa=t("__VUE_INSTANCE_SETTERS__",e=>ka=e),t("__VUE_SSR_SETTERS__",e=>Ca=e)}const _a=e=>{const t=ka;return wa(e),e.scope.on(),()=>{e.scope.off(),wa(t)}},La=()=>{ka&&ka.scope.off(),wa(null)};let xa,Ca=!1;function Sa(e,t,n){Z(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:!!ne(t)&&(e.setupState=en(t)),Ma(e,n)}function Ma(e,t,n){const s=e.type;if(!e.render){if(!t&&xa&&!s.render){const t=s.template||cs(e).template;if(t){const{isCustomElement:n,compilerOptions:a}=e.appContext.config,{delimiters:o,compilerOptions:r}=s,i=K(K({isCustomElement:n,delimiters:o},a),r);s.render=xa(t,i)}}e.render=s.render||Q}{const t=_a(e);Fe();try{os(e)}finally{Ue(),t()}}}function Ea(e){return Z(e)&&"__vccOpts"in e}const Oa=(e,t)=>{const n=nn(e,t,Ca);return n};const Pa={numeric:"Numeric",alphanumeric:"Alphanumeric",byte:"Byte",kanji:"Kanji"};function Ta(e){switch(!0){case/^[0-9]*$/.test(e):return Pa.numeric;case/^[0-9A-Z $%*+\-./:]*$/.test(e):return Pa.alphanumeric;default:return Pa.byte}}const Da=e=>!!e&&"object"==typeof e&&!Array.isArray(e);function Ia(e,...t){if(!t.length)return e;const n=t.shift();return void 0!==n&&Da(e)&&Da(n)?(e={...e},Object.keys(n).forEach(t=>{const s=e[t],a=n[t];Array.isArray(s)&&Array.isArray(a)?e[t]=a:Da(s)&&Da(a)?e[t]=Ia(Object.assign({},s),a):e[t]=a}),Ia(e,...t)):e}function Aa(e,t){const n=document.createElement("a");n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function Ra({originalHeight:e,originalWidth:t,maxHiddenDots:n,maxHiddenAxisDots:s,dotSize:a}){const o={x:0,y:0},r={x:0,y:0};if(e<=0||t<=0||n<=0||a<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const i=e/t;return o.x=Math.floor(Math.sqrt(n/i)),o.x<=0&&(o.x=1),s&&s<o.x&&(o.x=s),o.x%2===0&&o.x--,r.x=o.x*a,o.y=1+2*Math.ceil((o.x*i-1)/2),r.y=Math.round(r.x*i),(o.y*o.x>n||s&&s<o.y)&&(s&&s<o.y?(o.y=s,o.y%2===0&&o.x--):o.y-=2,r.y=o.y*a,o.x=1+2*Math.ceil((o.y/i-1)/2),r.x=Math.round(r.y/i)),{height:r.y,width:r.x,hideYDots:o.y,hideXDots:o.x}}const Ba={L:.07,M:.15,Q:.25,H:.3},Na={dots:"dots",rounded:"rounded",classy:"classy",classyRounded:"classy-rounded",square:"square",extraRounded:"extra-rounded"};class qa{constructor({context:e,type:t}){F(this,"_context"),F(this,"_type"),this._context=e,this._type=t}draw(e,t,n,s){const a=this._context,o=this._type;let r;switch(o){case Na.dots:r=this._drawDot;break;case Na.classy:r=this._drawClassy;break;case Na.classyRounded:r=this._drawClassyRounded;break;case Na.rounded:r=this._drawRounded;break;case Na.extraRounded:r=this._drawExtraRounded;break;case Na.square:default:r=this._drawSquare}r.call(this,{x:e,y:t,size:n,context:a,getNeighbor:s})}_rotateFigure({x:e,y:t,size:n,context:s,rotation:a,draw:o}){const r=e+n/2,i=t+n/2;s.translate(r,i),a&&s.rotate(a),o(),s.closePath(),a&&s.rotate(-a),s.translate(-r,-i)}_basicDot(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.moveTo(0,0),n.arc(0,0,t/2,0,2*Math.PI)}})}_basicSquare(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.moveTo(0,0),n.rect(-t/2,-t/2,t,t)}})}_basicSideRounded(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.moveTo(0,0),n.arc(0,0,t/2,-Math.PI/2,Math.PI/2),n.lineTo(-t/2,t/2),n.lineTo(-t/2,-t/2),n.lineTo(0,-t/2)}})}_basicCornerRounded(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.moveTo(0,0),n.arc(0,0,t/2,-Math.PI/2,0),n.lineTo(t/2,t/2),n.lineTo(-t/2,t/2),n.lineTo(-t/2,-t/2),n.lineTo(0,-t/2)}})}_basicCornerExtraRounded(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.moveTo(0,0),n.arc(-t/2,t/2,t,-Math.PI/2,0),n.lineTo(-t/2,t/2),n.lineTo(-t/2,-t/2)}})}_basicCornersRounded(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.moveTo(0,0),n.arc(0,0,t/2,-Math.PI/2,0),n.lineTo(t/2,t/2),n.lineTo(0,t/2),n.arc(0,0,t/2,Math.PI/2,Math.PI),n.lineTo(-t/2,-t/2),n.lineTo(0,-t/2)}})}_basicCornersExtraRounded(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.moveTo(0,0),n.arc(-t/2,t/2,t,-Math.PI/2,0),n.arc(t/2,-t/2,t,Math.PI/2,Math.PI)}})}_drawDot({x:e,y:t,size:n,context:s}){this._basicDot({x:e,y:t,size:n,context:s,rotation:0})}_drawSquare({x:e,y:t,size:n,context:s}){this._basicSquare({x:e,y:t,size:n,context:s,rotation:0})}_drawRounded({x:e,y:t,size:n,context:s,getNeighbor:a}){const o=+a(-1,0),r=+a(1,0),i=+a(0,-1),l=+a(0,1),c=o+r+i+l;if(0!==c)if(c>2||o&&r||i&&l)this._basicSquare({x:e,y:t,size:n,context:s,rotation:0});else{if(2===c){let a=0;return o&&i?a=Math.PI/2:i&&r?a=Math.PI:r&&l&&(a=-Math.PI/2),void this._basicCornerRounded({x:e,y:t,size:n,context:s,rotation:a})}if(1===c){let a=0;i?a=Math.PI/2:r?a=Math.PI:l&&(a=-Math.PI/2),this._basicSideRounded({x:e,y:t,size:n,context:s,rotation:a})}}else this._basicDot({x:e,y:t,size:n,context:s,rotation:0})}_drawExtraRounded({x:e,y:t,size:n,context:s,getNeighbor:a}){const o=+a(-1,0),r=+a(1,0),i=+a(0,-1),l=+a(0,1),c=o+r+i+l;if(0!==c)if(c>2||o&&r||i&&l)this._basicSquare({x:e,y:t,size:n,context:s,rotation:0});else{if(2===c){let a=0;return o&&i?a=Math.PI/2:i&&r?a=Math.PI:r&&l&&(a=-Math.PI/2),void this._basicCornerExtraRounded({x:e,y:t,size:n,context:s,rotation:a})}if(1===c){let a=0;i?a=Math.PI/2:r?a=Math.PI:l&&(a=-Math.PI/2),this._basicSideRounded({x:e,y:t,size:n,context:s,rotation:a})}}else this._basicDot({x:e,y:t,size:n,context:s,rotation:0})}_drawClassy({x:e,y:t,size:n,context:s,getNeighbor:a}){const o=+a(-1,0),r=+a(1,0),i=+a(0,-1),l=+a(0,1);o+r+i+l!==0?o||i?r||l?this._basicSquare({x:e,y:t,size:n,context:s,rotation:0}):this._basicCornerRounded({x:e,y:t,size:n,context:s,rotation:Math.PI/2}):this._basicCornerRounded({x:e,y:t,size:n,context:s,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:n,context:s,rotation:Math.PI/2})}_drawClassyRounded({x:e,y:t,size:n,context:s,getNeighbor:a}){const o=+a(-1,0),r=+a(1,0),i=+a(0,-1),l=+a(0,1);o+r+i+l!==0?o||i?r||l?this._basicSquare({x:e,y:t,size:n,context:s,rotation:0}):this._basicCornerExtraRounded({x:e,y:t,size:n,context:s,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:e,y:t,size:n,context:s,rotation:-Math.PI/2}):this._basicCornersRounded({x:e,y:t,size:n,context:s,rotation:Math.PI/2})}}const za={dot:"dot",square:"square",extraRounded:"extra-rounded"};class Fa{constructor({context:e,type:t}){F(this,"_context"),F(this,"_type"),this._context=e,this._type=t}draw(e,t,n,s){const a=this._context,o=this._type;let r;switch(o){case za.square:r=this._drawSquare;break;case za.extraRounded:r=this._drawExtraRounded;break;case za.dot:default:r=this._drawDot}r.call(this,{x:e,y:t,size:n,context:a,rotation:s})}_rotateFigure({x:e,y:t,size:n,context:s,rotation:a,draw:o}){const r=e+n/2,i=t+n/2;s.translate(r,i),a&&s.rotate(a),o(),s.closePath(),a&&s.rotate(-a),s.translate(-r,-i)}_basicDot(e){const{size:t,context:n}=e,s=t/7;this._rotateFigure({...e,draw:()=>{n.arc(0,0,t/2,0,2*Math.PI),n.arc(0,0,t/2-s,0,2*Math.PI)}})}_basicSquare(e){const{size:t,context:n}=e,s=t/7;this._rotateFigure({...e,draw:()=>{n.rect(-t/2,-t/2,t,t),n.rect(-t/2+s,-t/2+s,t-2*s,t-2*s)}})}_basicExtraRounded(e){const{size:t,context:n}=e,s=t/7;this._rotateFigure({...e,draw:()=>{n.arc(-s,-s,2.5*s,Math.PI,-Math.PI/2),n.lineTo(s,-3.5*s),n.arc(s,-s,2.5*s,-Math.PI/2,0),n.lineTo(3.5*s,-s),n.arc(s,s,2.5*s,0,Math.PI/2),n.lineTo(-s,3.5*s),n.arc(-s,s,2.5*s,Math.PI/2,Math.PI),n.lineTo(-3.5*s,-s),n.arc(-s,-s,1.5*s,Math.PI,-Math.PI/2),n.lineTo(s,-2.5*s),n.arc(s,-s,1.5*s,-Math.PI/2,0),n.lineTo(2.5*s,-s),n.arc(s,s,1.5*s,0,Math.PI/2),n.lineTo(-s,2.5*s),n.arc(-s,s,1.5*s,Math.PI/2,Math.PI),n.lineTo(-2.5*s,-s)}})}_drawDot({x:e,y:t,size:n,context:s,rotation:a}){this._basicDot({x:e,y:t,size:n,context:s,rotation:a})}_drawSquare({x:e,y:t,size:n,context:s,rotation:a}){this._basicSquare({x:e,y:t,size:n,context:s,rotation:a})}_drawExtraRounded({x:e,y:t,size:n,context:s,rotation:a}){this._basicExtraRounded({x:e,y:t,size:n,context:s,rotation:a})}}const Ua={dot:"dot",square:"square"};class Xa{constructor({context:e,type:t}){F(this,"_context"),F(this,"_type"),this._context=e,this._type=t}draw(e,t,n,s){const a=this._context;switch(this._type){case Ua.square:this._drawSquare({x:e,y:t,size:n,context:a,rotation:s});break;case Ua.dot:default:this._drawDot({x:e,y:t,size:n,context:a,rotation:s})}}_rotateFigure({x:e,y:t,size:n,context:s,rotation:a,draw:o}){const r=e+n/2,i=t+n/2;s.moveTo(0,0),s.translate(r,i),a&&s.rotate(a),o(),s.closePath(),a&&s.rotate(-a),s.translate(-r,-i)}_drawDot(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.moveTo(0,0),n.arc(0,0,t/2,0,2*Math.PI)}})}_drawSquare(e){const{size:t,context:n}=e;this._rotateFigure({...e,draw:()=>{n.moveTo(0,0),n.rect(-t/2,-t/2,t,t)}})}}const ja={radial:"radial",linear:"linear"},Qa=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],Wa=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class Ka{constructor(e){F(this,"_canvas"),F(this,"_options"),F(this,"_qr"),F(this,"_image"),this._canvas=document.createElement("canvas"),this._canvas.width=e.width,this._canvas.height=e.height,this._options=e}get context(){return this._canvas.getContext("2d")}get width(){return this._canvas.width}get height(){return this._canvas.height}getCanvas(){return this._canvas}clear(){const e=this.context;e&&e.clearRect(0,0,this._canvas.width,this._canvas.height)}async drawQR(e){const t=e.getModuleCount(),n=Math.min(this._options.width,this._options.height)-2*this._options.margin,s=Math.floor(n/t);let a={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=e,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:e,qrOptions:n}=this._options,o=e.imageSize*Ba[n.errorCorrectionLevel],r=Math.floor(o*t*t);a=Ra({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:r,maxHiddenAxisDots:t-14,dotSize:s})}this.clear(),this.drawBackground(),this.drawDots((e,n)=>{var s,o,r,i,l,c;return!(this._options.imageOptions.hideBackgroundDots&&e>=(t-a.hideXDots)/2&&e<(t+a.hideXDots)/2&&n>=(t-a.hideYDots)/2&&n<(t+a.hideYDots)/2||null!=(s=Qa[e])&&s[n]||null!=(o=Qa[e-t+7])&&o[n]||null!=(r=Qa[e])&&r[n-t+7]||null!=(i=Wa[e])&&i[n]||null!=(l=Wa[e-t+7])&&l[n]||null!=(c=Wa[e])&&c[n-t+7])}),this.drawCorners(),this._options.image&&this.drawImage({width:a.width,height:a.height,count:t,dotSize:s})}drawBackground(){const e=this.context,t=this._options;if(e){if(t.backgroundOptions.gradient){const n=t.backgroundOptions.gradient,s=this._createGradient({context:e,options:n,additionalRotation:0,x:0,y:0,size:this._canvas.width>this._canvas.height?this._canvas.width:this._canvas.height});n.colorStops.forEach(({offset:e,color:t})=>{s.addColorStop(e,t)}),e.fillStyle=s}else t.backgroundOptions.color&&(e.fillStyle=t.backgroundOptions.color);e.fillRect(0,0,this._canvas.width,this._canvas.height)}}drawDots(e){if(!this._qr)throw"QR code is not defined";const t=this.context;if(!t)throw"QR code is not defined";const n=this._options,s=this._qr.getModuleCount();if(s>n.width||s>n.height)throw"The canvas is too small.";const a=Math.min(n.width,n.height)-2*n.margin,o=Math.floor(a/s),r=Math.floor((n.width-s*o)/2),i=Math.floor((n.height-s*o)/2),l=new qa({context:t,type:n.dotsOptions.type});t.beginPath();for(let c=0;c<s;c++)for(let t=0;t<s;t++)e&&!e(c,t)||this._qr.isDark(c,t)&&l.draw(r+c*o,i+t*o,o,(n,a)=>!(c+n<0||t+a<0||c+n>=s||t+a>=s||e&&!e(c+n,t+a))&&(!!this._qr&&this._qr.isDark(c+n,t+a)));if(n.dotsOptions.gradient){const e=n.dotsOptions.gradient,a=this._createGradient({context:t,options:e,additionalRotation:0,x:r,y:i,size:s*o});e.colorStops.forEach(({offset:e,color:t})=>{a.addColorStop(e,t)}),t.fillStyle=t.strokeStyle=a}else n.dotsOptions.color&&(t.fillStyle=t.strokeStyle=n.dotsOptions.color);t.fill("evenodd")}drawCorners(e){if(!this._qr)throw"QR code is not defined";const t=this.context;if(!t)throw"QR code is not defined";const n=this._options,s=this._qr.getModuleCount(),a=Math.min(n.width,n.height)-2*n.margin,o=Math.floor(a/s),r=7*o,i=3*o,l=Math.floor((n.width-s*o)/2),c=Math.floor((n.height-s*o)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(([a,u,d])=>{var f,h,p,g,v,m,b,k,y,w;if(e&&!e(a,u))return;const _=l+a*o*(s-7),L=c+u*o*(s-7);if(null!=(f=n.cornersSquareOptions)&&f.type){const e=new Fa({context:t,type:null==(h=n.cornersSquareOptions)?void 0:h.type});t.beginPath(),e.draw(_,L,r,d)}else{const e=new qa({context:t,type:n.dotsOptions.type});t.beginPath();for(let t=0;t<Qa.length;t++)for(let n=0;n<Qa[t].length;n++)null!=(p=Qa[t])&&p[n]&&e.draw(_+t*o,L+n*o,o,(e,s)=>{var a;return!(null==(a=Qa[t+e])||!a[n+s])})}if(null!=(g=n.cornersSquareOptions)&&g.gradient){const e=n.cornersSquareOptions.gradient,s=this._createGradient({context:t,options:e,additionalRotation:d,x:_,y:L,size:r});e.colorStops.forEach(({offset:e,color:t})=>{s.addColorStop(e,t)}),t.fillStyle=t.strokeStyle=s}else null!=(v=n.cornersSquareOptions)&&v.color&&(t.fillStyle=t.strokeStyle=n.cornersSquareOptions.color);if(t.fill("evenodd"),null!=(m=n.cornersDotOptions)&&m.type){const e=new Xa({context:t,type:null==(b=n.cornersDotOptions)?void 0:b.type});t.beginPath(),e.draw(_+2*o,L+2*o,i,d)}else{const e=new qa({context:t,type:n.dotsOptions.type});t.beginPath();for(let t=0;t<Wa.length;t++)for(let n=0;n<Wa[t].length;n++)null!=(k=Wa[t])&&k[n]&&e.draw(_+t*o,L+n*o,o,(e,s)=>{var a;return!(null==(a=Wa[t+e])||!a[n+s])})}if(null!=(y=n.cornersDotOptions)&&y.gradient){const e=n.cornersDotOptions.gradient,s=this._createGradient({context:t,options:e,additionalRotation:d,x:_+2*o,y:L+2*o,size:i});e.colorStops.forEach(({offset:e,color:t})=>{s.addColorStop(e,t)}),t.fillStyle=t.strokeStyle=s}else null!=(w=n.cornersDotOptions)&&w.color&&(t.fillStyle=t.strokeStyle=n.cornersDotOptions.color);t.fill("evenodd")})}loadImage(){return new Promise((e,t)=>{const n=this._options,s=new Image;if(!n.image)return t("Image is not defined");"string"==typeof n.imageOptions.crossOrigin&&(s.crossOrigin=n.imageOptions.crossOrigin),this._image=s,s.onload=()=>{e()},s.src=n.image})}drawImage({width:e,height:t,count:n,dotSize:s}){const a=this.context;if(!a)throw"canvasContext is not defined";if(!this._image)throw"image is not defined";const o=this._options,r=Math.floor((o.width-n*s)/2),i=Math.floor((o.height-n*s)/2),l=r+o.imageOptions.margin+(n*s-e)/2,c=i+o.imageOptions.margin+(n*s-t)/2,u=e-2*o.imageOptions.margin,d=t-2*o.imageOptions.margin;a.drawImage(this._image,l,c,u<0?0:u,d<0?0:d)}_createGradient({context:e,options:t,additionalRotation:n,x:s,y:a,size:o}){let r;if(t.type===ja.radial)r=e.createRadialGradient(s+o/2,a+o/2,0,s+o/2,a+o/2,o/2);else{const i=((t.rotation||0)+n)%(2*Math.PI),l=(i+2*Math.PI)%(2*Math.PI);let c=s+o/2,u=a+o/2,d=s+o/2,f=a+o/2;l>=0&&l<=.25*Math.PI||l>1.75*Math.PI&&l<=2*Math.PI?(c-=o/2,u-=o/2*Math.tan(i),d+=o/2,f+=o/2*Math.tan(i)):l>.25*Math.PI&&l<=.75*Math.PI?(u-=o/2,c-=o/2/Math.tan(i),f+=o/2,d+=o/2/Math.tan(i)):l>.75*Math.PI&&l<=1.25*Math.PI?(c+=o/2,u+=o/2*Math.tan(i),d-=o/2,f-=o/2*Math.tan(i)):l>1.25*Math.PI&&l<=1.75*Math.PI&&(u+=o/2,c+=o/2/Math.tan(i),f-=o/2,d-=o/2/Math.tan(i)),r=e.createLinearGradient(Math.round(c),Math.round(u),Math.round(d),Math.round(f))}return r}}const Ha={};for(let Bi=0;Bi<=40;Bi++)Ha[Bi]=Bi;const Ja={L:"L",M:"M",Q:"Q",H:"H"},$a={width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:Ha[0],mode:void 0,errorCorrectionLevel:Ja.Q},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{color:"#fff"}};function Va(e){const t={...e};if(!t.colorStops||!t.colorStops.length)throw"Field 'colorStops' is required in gradient";return t.rotation?t.rotation=Number(t.rotation):t.rotation=0,t.colorStops=t.colorStops.map(e=>({...e,offset:Number(e.offset)})),t}function Ya(e){const t={...e};return t.width=Number(t.width),t.height=Number(t.height),t.margin=Number(t.margin),t.imageOptions={...t.imageOptions,hideBackgroundDots:!!t.imageOptions.hideBackgroundDots,imageSize:Number(t.imageOptions.imageSize),margin:Number(t.imageOptions.margin)},t.margin>Math.min(t.width,t.height)&&(t.margin=Math.min(t.width,t.height)),t.dotsOptions={...t.dotsOptions},t.dotsOptions.gradient&&(t.dotsOptions.gradient=Va(t.dotsOptions.gradient)),t.cornersSquareOptions&&(t.cornersSquareOptions={...t.cornersSquareOptions},t.cornersSquareOptions.gradient&&(t.cornersSquareOptions.gradient=Va(t.cornersSquareOptions.gradient))),t.cornersDotOptions&&(t.cornersDotOptions={...t.cornersDotOptions},t.cornersDotOptions.gradient&&(t.cornersDotOptions.gradient=Va(t.cornersDotOptions.gradient))),t.backgroundOptions&&(t.backgroundOptions={...t.backgroundOptions},t.backgroundOptions.gradient&&(t.backgroundOptions.gradient=Va(t.backgroundOptions.gradient))),t}function Ga(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Za={exports:{}};(function(e){var t=function(){var e=function(e,t){var s=236,o=17,h=e,p=n[t],g=null,v=0,b=null,k=[],y={},w=function(e,t){v=4*h+17,g=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var s=0;s<e;s+=1)t[n][s]=null}return t}(v),_(0,0),_(v-7,0),_(0,v-7),C(),x(),M(e,t),h>=7&&S(e),null==b&&(b=P(h,p,k)),E(b,t)},_=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||v<=e+n))for(var s=-1;s<=7;s+=1)t+s<=-1||v<=t+s||(g[e+n][t+s]=0<=n&&n<=6&&(0==s||6==s)||0<=s&&s<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=s&&s<=4)},L=function(){for(var e=0,t=0,n=0;n<8;n+=1){w(!0,n);var s=a.getLostPoint(y);(0==n||e>s)&&(e=s,t=n)}return t},x=function(){for(var e=8;e<v-8;e+=1)null==g[e][6]&&(g[e][6]=e%2==0);for(var t=8;t<v-8;t+=1)null==g[6][t]&&(g[6][t]=t%2==0)},C=function(){for(var e=a.getPatternPosition(h),t=0;t<e.length;t+=1)for(var n=0;n<e.length;n+=1){var s=e[t],o=e[n];if(null==g[s][o])for(var r=-2;r<=2;r+=1)for(var i=-2;i<=2;i+=1)g[s+r][o+i]=-2==r||2==r||-2==i||2==i||0==r&&0==i}},S=function(e){for(var t=a.getBCHTypeNumber(h),n=0;n<18;n+=1){var s=!e&&1==(t>>n&1);g[Math.floor(n/3)][n%3+v-8-3]=s}for(n=0;n<18;n+=1){s=!e&&1==(t>>n&1);g[n%3+v-8-3][Math.floor(n/3)]=s}},M=function(e,t){for(var n=p<<3|t,s=a.getBCHTypeInfo(n),o=0;o<15;o+=1){var r=!e&&1==(s>>o&1);o<6?g[o][8]=r:o<8?g[o+1][8]=r:g[v-15+o][8]=r}for(o=0;o<15;o+=1){r=!e&&1==(s>>o&1);o<8?g[8][v-o-1]=r:o<9?g[8][15-o-1+1]=r:g[8][15-o-1]=r}g[v-8][8]=!e},E=function(e,t){for(var n=-1,s=v-1,o=7,r=0,i=a.getMaskFunction(t),l=v-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var c=0;c<2;c+=1)if(null==g[s][l-c]){var u=!1;r<e.length&&(u=1==(e[r]>>>o&1));var d=i(s,l-c);d&&(u=!u),g[s][l-c]=u,o-=1,-1==o&&(r+=1,o=7)}if(s+=n,s<0||v<=s){s-=n,n=-n;break}}},O=function(e,t){for(var n=0,s=0,o=0,i=new Array(t.length),l=new Array(t.length),c=0;c<t.length;c+=1){var u=t[c].dataCount,d=t[c].totalCount-u;s=Math.max(s,u),o=Math.max(o,d),i[c]=new Array(u);for(var f=0;f<i[c].length;f+=1)i[c][f]=255&e.getBuffer()[f+n];n+=u;var h=a.getErrorCorrectPolynomial(d),p=r(i[c],h.getLength()-1),g=p.mod(h);l[c]=new Array(h.getLength()-1);for(f=0;f<l[c].length;f+=1){var v=f+g.getLength()-l[c].length;l[c][f]=v>=0?g.getAt(v):0}}var m=0;for(f=0;f<t.length;f+=1)m+=t[f].totalCount;var b=new Array(m),k=0;for(f=0;f<s;f+=1)for(c=0;c<t.length;c+=1)f<i[c].length&&(b[k]=i[c][f],k+=1);for(f=0;f<o;f+=1)for(c=0;c<t.length;c+=1)f<l[c].length&&(b[k]=l[c][f],k+=1);return b},P=function(e,t,n){for(var r=i.getRSBlocks(e,t),c=l(),u=0;u<n.length;u+=1){var d=n[u];c.put(d.getMode(),4),c.put(d.getLength(),a.getLengthInBits(d.getMode(),e)),d.write(c)}var f=0;for(u=0;u<r.length;u+=1)f+=r[u].dataCount;if(c.getLengthInBits()>8*f)throw"code length overflow. ("+c.getLengthInBits()+">"+8*f+")";for(c.getLengthInBits()+4<=8*f&&c.put(0,4);c.getLengthInBits()%8!=0;)c.putBit(!1);for(;!(c.getLengthInBits()>=8*f||(c.put(s,8),c.getLengthInBits()>=8*f));)c.put(o,8);return O(c,r)};y.addData=function(e,t){t=t||"Byte";var n=null;switch(t){case"Numeric":n=c(e);break;case"Alphanumeric":n=u(e);break;case"Byte":n=d(e);break;case"Kanji":n=f(e);break;default:throw"mode:"+t}k.push(n),b=null},y.isDark=function(e,t){if(e<0||v<=e||t<0||v<=t)throw e+","+t;return g[e][t]},y.getModuleCount=function(){return v},y.make=function(){if(h<1){for(var e=1;e<40;e++){for(var t=i.getRSBlocks(e,p),n=l(),s=0;s<k.length;s++){var o=k[s];n.put(o.getMode(),4),n.put(o.getLength(),a.getLengthInBits(o.getMode(),e)),o.write(n)}var r=0;for(s=0;s<t.length;s++)r+=t[s].dataCount;if(n.getLengthInBits()<=8*r)break}h=e}w(!1,L())},y.createTableTag=function(e,t){e=e||2,t=typeof t>"u"?4*e:t;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+t+"px;",n+='">',n+="<tbody>";for(var s=0;s<y.getModuleCount();s+=1){n+="<tr>";for(var a=0;a<y.getModuleCount();a+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=y.isDark(s,a)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return n+="</tbody>",n+="</table>",n},y.createSvgTag=function(e,t,n,s){var a={};"object"==typeof arguments[0]&&(a=arguments[0],e=a.cellSize,t=a.margin,n=a.alt,s=a.title),e=e||2,t=typeof t>"u"?4*e:t,n="string"==typeof n?{text:n}:n||{},n.text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,s="string"==typeof s?{text:s}:s||{},s.text=s.text||null,s.id=s.text?s.id||"qrcode-title":null;var o,r,i,l,c,u=y.getModuleCount()*e+2*t,d="";for(c="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",d+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',d+=a.scalable?"":' width="'+u+'px" height="'+u+'px"',d+=' viewBox="0 0 '+u+" "+u+'" ',d+=' preserveAspectRatio="xMinYMin meet"',d+=s.text||n.text?' role="img" aria-labelledby="'+T([s.id,n.id].join(" ").trim())+'"':"",d+=">",d+=s.text?'<title id="'+T(s.id)+'">'+T(s.text)+"</title>":"",d+=n.text?'<description id="'+T(n.id)+'">'+T(n.text)+"</description>":"",d+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',d+='<path d="',i=0;i<y.getModuleCount();i+=1)for(l=i*e+t,o=0;o<y.getModuleCount();o+=1)y.isDark(i,o)&&(r=o*e+t,d+="M"+r+","+l+c);return d+='" stroke="transparent" fill="black"/>',d+="</svg>",d},y.createDataURL=function(e,t){e=e||2,t=typeof t>"u"?4*e:t;var n=y.getModuleCount()*e+2*t,s=t,a=n-t;return m(n,n,function(t,n){if(s<=t&&t<a&&s<=n&&n<a){var o=Math.floor((t-s)/e),r=Math.floor((n-s)/e);return y.isDark(r,o)?0:1}return 1})},y.createImgTag=function(e,t,n){e=e||2,t=typeof t>"u"?4*e:t;var s=y.getModuleCount()*e+2*t,a="";return a+="<img",a+=' src="',a+=y.createDataURL(e,t),a+='"',a+=' width="',a+=s,a+='"',a+=' height="',a+=s,a+='"',n&&(a+=' alt="',a+=T(n),a+='"'),a+="/>",a};var T=function(e){for(var t="",n=0;n<e.length;n+=1){var s=e.charAt(n);switch(s){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=s;break}}return t},D=function(e){var t=1;e=typeof e>"u"?2*t:e;var n,s,a,o,r,i=y.getModuleCount()*t+2*e,l=e,c=i-e,u={"██":"█","█ ":"▀"," █":"▄","  ":" "},d={"██":"▀","█ ":"▀"," █":" ","  ":" "},f="";for(n=0;n<i;n+=2){for(a=Math.floor((n-l)/t),o=Math.floor((n+1-l)/t),s=0;s<i;s+=1)r="█",l<=s&&s<c&&l<=n&&n<c&&y.isDark(a,Math.floor((s-l)/t))&&(r=" "),l<=s&&s<c&&l<=n+1&&n+1<c&&y.isDark(o,Math.floor((s-l)/t))?r+=" ":r+="█",f+=e<1&&n+1>=c?d[r]:u[r];f+="\n"}return i%2&&e>0?f.substring(0,f.length-i-1)+Array(i+1).join("▀"):f.substring(0,f.length-1)};return y.createASCII=function(e,t){if(e=e||1,e<2)return D(t);e-=1,t=typeof t>"u"?2*e:t;var n,s,a,o,r=y.getModuleCount()*e+2*t,i=t,l=r-t,c=Array(e+1).join("██"),u=Array(e+1).join("  "),d="",f="";for(n=0;n<r;n+=1){for(a=Math.floor((n-i)/e),f="",s=0;s<r;s+=1)o=1,i<=s&&s<l&&i<=n&&n<l&&y.isDark(a,Math.floor((s-i)/e))&&(o=0),f+=o?c:u;for(a=0;a<e;a+=1)d+=f+"\n"}return d.substring(0,d.length-1)},y.renderTo2dContext=function(e,t){t=t||2;for(var n=y.getModuleCount(),s=0;s<n;s++)for(var a=0;a<n;a++)e.fillStyle=y.isDark(s,a)?"black":"white",e.fillRect(s*t,a*t,t,t)},y};e.stringToBytesFuncs={default:function(e){for(var t=[],n=0;n<e.length;n+=1){var s=e.charCodeAt(n);t.push(255&s)}return t}},e.stringToBytes=e.stringToBytesFuncs.default,e.createStringToBytes=function(e,t){var n=function(){for(var n=g(e),s=function(){var e=n.read();if(-1==e)throw"eof";return e},a=0,o={};;){var r=n.read();if(-1==r)break;var i=s(),l=s(),c=s(),u=String.fromCharCode(r<<8|i),d=l<<8|c;o[u]=d,a+=1}if(a!=t)throw a+" != "+t;return o}(),s="?".charCodeAt(0);return function(e){for(var t=[],a=0;a<e.length;a+=1){var o=e.charCodeAt(a);if(o<128)t.push(o);else{var r=n[e.charAt(a)];"number"==typeof r?(255&r)==r?t.push(r):(t.push(r>>>8),t.push(255&r)):t.push(s)}}return t}};var t={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},n={L:1,M:0,Q:3,H:2},s={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},a=function(){var e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,a=7973,i=21522,l={},c=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t};return l.getBCHTypeInfo=function(e){for(var t=e<<10;c(t)-c(n)>=0;)t^=n<<c(t)-c(n);return(e<<10|t)^i},l.getBCHTypeNumber=function(e){for(var t=e<<12;c(t)-c(a)>=0;)t^=a<<c(t)-c(a);return e<<12|t},l.getPatternPosition=function(t){return e[t-1]},l.getMaskFunction=function(e){switch(e){case s.PATTERN000:return function(e,t){return(e+t)%2==0};case s.PATTERN001:return function(e,t){return e%2==0};case s.PATTERN010:return function(e,t){return t%3==0};case s.PATTERN011:return function(e,t){return(e+t)%3==0};case s.PATTERN100:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case s.PATTERN101:return function(e,t){return e*t%2+e*t%3==0};case s.PATTERN110:return function(e,t){return(e*t%2+e*t%3)%2==0};case s.PATTERN111:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},l.getErrorCorrectPolynomial=function(e){for(var t=r([1],0),n=0;n<e;n+=1)t=t.multiply(r([1,o.gexp(n)],0));return t},l.getLengthInBits=function(e,n){if(1<=n&&n<10)switch(e){case t.MODE_NUMBER:return 10;case t.MODE_ALPHA_NUM:return 9;case t.MODE_8BIT_BYTE:return 8;case t.MODE_KANJI:return 8;default:throw"mode:"+e}else if(n<27)switch(e){case t.MODE_NUMBER:return 12;case t.MODE_ALPHA_NUM:return 11;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 10;default:throw"mode:"+e}else{if(!(n<41))throw"type:"+n;switch(e){case t.MODE_NUMBER:return 14;case t.MODE_ALPHA_NUM:return 13;case t.MODE_8BIT_BYTE:return 16;case t.MODE_KANJI:return 12;default:throw"mode:"+e}}},l.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,s=0;s<t;s+=1)for(var a=0;a<t;a+=1){for(var o=0,r=e.isDark(s,a),i=-1;i<=1;i+=1)if(!(s+i<0||t<=s+i))for(var l=-1;l<=1;l+=1)a+l<0||t<=a+l||0==i&&0==l||r==e.isDark(s+i,a+l)&&(o+=1);o>5&&(n+=3+o-5)}for(s=0;s<t-1;s+=1)for(a=0;a<t-1;a+=1){var c=0;e.isDark(s,a)&&(c+=1),e.isDark(s+1,a)&&(c+=1),e.isDark(s,a+1)&&(c+=1),e.isDark(s+1,a+1)&&(c+=1),(0==c||4==c)&&(n+=3)}for(s=0;s<t;s+=1)for(a=0;a<t-6;a+=1)e.isDark(s,a)&&!e.isDark(s,a+1)&&e.isDark(s,a+2)&&e.isDark(s,a+3)&&e.isDark(s,a+4)&&!e.isDark(s,a+5)&&e.isDark(s,a+6)&&(n+=40);for(a=0;a<t;a+=1)for(s=0;s<t-6;s+=1)e.isDark(s,a)&&!e.isDark(s+1,a)&&e.isDark(s+2,a)&&e.isDark(s+3,a)&&e.isDark(s+4,a)&&!e.isDark(s+5,a)&&e.isDark(s+6,a)&&(n+=40);var u=0;for(a=0;a<t;a+=1)for(s=0;s<t;s+=1)e.isDark(s,a)&&(u+=1);var d=Math.abs(100*u/t/t-50)/5;return n+=10*d,n},l}(),o=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;var s={glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}};return s}();function r(e,t){if(typeof e.length>"u")throw e.length+"/"+t;var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var s=new Array(e.length-n+t),a=0;a<e.length-n;a+=1)s[a]=e[a+n];return s}(),s={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(s.getLength()+e.getLength()-1),n=0;n<s.getLength();n+=1)for(var a=0;a<e.getLength();a+=1)t[n+a]^=o.gexp(o.glog(s.getAt(n))+o.glog(e.getAt(a)));return r(t,0)},mod:function(e){if(s.getLength()-e.getLength()<0)return s;for(var t=o.glog(s.getAt(0))-o.glog(e.getAt(0)),n=new Array(s.getLength()),a=0;a<s.getLength();a+=1)n[a]=s.getAt(a);for(a=0;a<e.getLength();a+=1)n[a]^=o.gexp(o.glog(e.getAt(a))+t);return r(n,0).mod(e)}};return s}var i=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},s={},a=function(t,s){switch(s){case n.L:return e[4*(t-1)+0];case n.M:return e[4*(t-1)+1];case n.Q:return e[4*(t-1)+2];case n.H:return e[4*(t-1)+3];default:return}};return s.getRSBlocks=function(e,n){var s=a(e,n);if(typeof s>"u")throw"bad rs block @ typeNumber:"+e+"/errorCorrectionLevel:"+n;for(var o=s.length/3,r=[],i=0;i<o;i+=1)for(var l=s[3*i+0],c=s[3*i+1],u=s[3*i+2],d=0;d<l;d+=1)r.push(t(c,u));return r},s}(),l=function(){var e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var s=0;s<t;s+=1)n.putBit(1==(e>>>t-s-1&1))},getLengthInBits:function(){return t},putBit:function(n){var s=Math.floor(t/8);e.length<=s&&e.push(0),n&&(e[s]|=128>>>t%8),t+=1}};return n},c=function(e){var n=t.MODE_NUMBER,s=e,a={getMode:function(){return n},getLength:function(e){return s.length},write:function(e){for(var t=s,n=0;n+2<t.length;)e.put(o(t.substring(n,n+3)),10),n+=3;n<t.length&&(t.length-n==1?e.put(o(t.substring(n,n+1)),4):t.length-n==2&&e.put(o(t.substring(n,n+2)),7))}},o=function(e){for(var t=0,n=0;n<e.length;n+=1)t=10*t+r(e.charAt(n));return t},r=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return a},u=function(e){var n=t.MODE_ALPHA_NUM,s=e,a={getMode:function(){return n},getLength:function(e){return s.length},write:function(e){for(var t=s,n=0;n+1<t.length;)e.put(45*o(t.charAt(n))+o(t.charAt(n+1)),11),n+=2;n<t.length&&e.put(o(t.charAt(n)),6)}},o=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return a},d=function(n){var s=t.MODE_8BIT_BYTE,a=e.stringToBytes(n),o={getMode:function(){return s},getLength:function(e){return a.length},write:function(e){for(var t=0;t<a.length;t+=1)e.put(a[t],8)}};return o},f=function(n){var s=t.MODE_KANJI,a=e.stringToBytesFuncs.SJIS;if(!a)throw"sjis not supported.";(function(e,t){var n=a(e);if(2!=n.length||(n[0]<<8|n[1])!=t)throw"sjis not supported."})("友",38726);var o=a(n),r={getMode:function(){return s},getLength:function(e){return~~(o.length/2)},write:function(e){for(var t=o,n=0;n+1<t.length;){var s=(255&t[n])<<8|255&t[n+1];if(33088<=s&&s<=40956)s-=33088;else{if(!(57408<=s&&s<=60351))throw"illegal char at "+(n+1)+"/"+s;s-=49472}s=192*(s>>>8&255)+(255&s),e.put(s,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}};return r},h=function(){var e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,s){n=n||0,s=s||e.length;for(var a=0;a<s;a+=1)t.writeByte(e[a+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+="]",t}};return t},p=function(){var e=0,t=0,n=0,s="",a={},o=function(e){s+=String.fromCharCode(r(63&e))},r=function(e){if(!(e<0)){if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return a.writeByte=function(s){for(e=e<<8|255&s,t+=8,n+=1;t>=6;)o(e>>>t-6),t-=6},a.flush=function(){if(t>0&&(o(e<<6-t),e=0,t=0),n%3!=0)for(var a=3-n%3,r=0;r<a;r+=1)s+="="},a.toString=function(){return s},a},g=function(e){var t=e,n=0,s=0,a=0,o={read:function(){for(;a<8;){if(n>=t.length){if(0==a)return-1;throw"unexpected end of file./"+a}var e=t.charAt(n);if(n+=1,"="==e)return a=0,-1;e.match(/^\s$/)||(s=s<<6|r(e.charCodeAt(0)),a+=6)}var o=s>>>a-8&255;return a-=8,o}},r=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return o},v=function(e,t){var n=e,s=t,a=new Array(e*t),o={setPixel:function(e,t,s){a[t*n+e]=s},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(s),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(s),e.writeByte(0);var t=2,a=i(t);e.writeByte(t);for(var o=0;a.length-o>255;)e.writeByte(255),e.writeBytes(a,o,255),o+=255;e.writeByte(a.length-o),e.writeBytes(a,o,a.length-o),e.writeByte(0),e.writeString(";")}},r=function(e){var t=e,n=0,s=0,a={write:function(e,a){if(e>>>a)throw"length over";for(;n+a>=8;)t.writeByte(255&(e<<n|s)),a-=8-n,e>>>=8-n,s=0,n=0;s|=e<<n,n+=a},flush:function(){n>0&&t.writeByte(s)}};return a},i=function(e){for(var t=1<<e,n=1+(1<<e),s=e+1,o=l(),i=0;i<t;i+=1)o.add(String.fromCharCode(i));o.add(String.fromCharCode(t)),o.add(String.fromCharCode(n));var c=h(),u=r(c);u.write(t,s);var d=0,f=String.fromCharCode(a[d]);for(d+=1;d<a.length;){var p=String.fromCharCode(a[d]);d+=1,o.contains(f+p)?f+=p:(u.write(o.indexOf(f),s),o.size()<4095&&(o.size()==1<<s&&(s+=1),o.add(f+p)),f=p)}return u.write(o.indexOf(f),s),u.write(n,s),u.flush(),c.toByteArray()},l=function(){var e={},t=0,n={add:function(s){if(n.contains(s))throw"dup key:"+s;e[s]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return typeof e[t]<"u"}};return n};return o},m=function(e,t,n){for(var s=v(e,t),a=0;a<t;a+=1)for(var o=0;o<e;o+=1)s.setPixel(o,a,n(o,a));var r=h();s.write(r);for(var i=p(),l=r.toByteArray(),c=0;c<l.length;c+=1)i.writeByte(l[c]);return i.flush(),"data:image/gif;base64,"+i};return e}();(function(){t.stringToBytesFuncs["UTF-8"]=function(e){function t(e){for(var t=[],n=0;n<e.length;n++){var s=e.charCodeAt(n);s<128?t.push(s):s<2048?t.push(192|s>>6,128|63&s):s<55296||s>=57344?t.push(224|s>>12,128|s>>6&63,128|63&s):(n++,s=65536+((1023&s)<<10|1023&e.charCodeAt(n)),t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s))}return t}return t(e)}})(),function(t){e.exports=t()}(function(){return t})})(Za);var eo=Za.exports;const to=Ga(eo);class no{constructor(e){F(this,"_options"),F(this,"_container"),F(this,"_canvas"),F(this,"_qr"),F(this,"_drawingPromise"),this._options=e?Ya(Ia($a,e)):$a,this.update()}static _clearContainer(e){e&&(e.innerHTML="")}update(e){no._clearContainer(this._container),this._options=e?Ya(Ia(this._options,e)):this._options,this._options.data&&(this._qr=to(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||Ta(this._options.data)),this._qr.make(),this._canvas=new Ka(this._options),this._drawingPromise=this._canvas.drawQR(this._qr),this.append(this._container))}append(e){if(e){if("function"!=typeof e.appendChild)throw"Container should be a single DOM node";this._canvas&&e.appendChild(this._canvas.getCanvas()),this._container=e}}async getImageUrl(e){return this._drawingPromise&&void 0===await this._drawingPromise&&this._canvas?this._canvas.getCanvas().toDataURL(`image/${e}`):""}download(e){this._drawingPromise&&this._drawingPromise.then(()=>{if(!this._canvas)return;const t=e,n=t.extension||"png",s=t.name||"qr",a=this._canvas.getCanvas().toDataURL(`image/${n}`);Aa(a,`${s}.${n}`)})}}const so=["src"],ao={key:1},oo=Bn({__name:"QRCodeVue3Async",props:{value:{default:""},width:{default:300},height:{default:300},margin:{default:0},imgclass:{default:""},myclass:{default:""},downloadButton:{default:""},buttonName:{default:"Download"},qrOptions:{default:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"Q"}},imageOptions:{default:{hideBackgroundDots:!0,imageSize:.4,margin:0}},dotsOptions:{default:{type:"dots",color:"#6a1a4c",gradient:{type:"linear",rotation:0,colorStops:[{offset:0,color:"#6a1a4c"},{offset:1,color:"#6a1a4c"}]}}},backgroundOptions:{default:{color:"#ffffff"}},cornersSquareOptions:{default:{type:"dot",color:"#000000"}},cornersDotOptions:{default:{type:void 0,color:"#000000"}},fileExt:{default:"png"},image:{default:""},download:{type:Boolean,default:!1},downloadOptions:{default:{name:"vqr",extension:"png"}}},async setup(e){let t,n;const s=e,a=new no({data:s.value,width:s.width,height:s.height,margin:s.margin,qrOptions:s.qrOptions,imageOptions:s.imageOptions,dotsOptions:s.dotsOptions,backgroundOptions:s.backgroundOptions,image:s.image,cornersSquareOptions:s.cornersSquareOptions,cornersDotOptions:s.cornersDotOptions});let o=([t,n]=ss(()=>a.getImageUrl(s.fileExt)),t=await t,n(),t);function r(){a.download(s.downloadOptions)}return(e,t)=>(Ys(),na("div",null,[Gt(o)?(Ys(),na("div",{key:0,class:ye(e.myclass)},[la("img",{src:Gt(o),class:ye(e.imgclass),crossorigin:"anonymous"},null,10,so)],2)):pa("",!0),Gt(o)&&e.download?(Ys(),na("div",ao,[la("button",{onClick:r,class:ye(e.downloadButton)},_e(e.buttonName),3)])):pa("",!0)]))}}),ro=Bn({__name:"QRCodeVue3",props:{value:{default:""},width:{default:300},height:{default:300},margin:{default:0},imgclass:{default:""},myclass:{default:""},downloadButton:{default:""},buttonName:{default:"Download"},qrOptions:{default:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"Q"}},imageOptions:{default:{hideBackgroundDots:!0,imageSize:.4,margin:0}},dotsOptions:{default:{type:"dots",color:"#6a1a4c",gradient:{type:"linear",rotation:0,colorStops:[{offset:0,color:"#6a1a4c"},{offset:1,color:"#6a1a4c"}]}}},backgroundOptions:{default:{color:"#ffffff"}},cornersSquareOptions:{default:{type:"dot",color:"#000000"}},cornersDotOptions:{default:{type:void 0,color:"#000000"}},fileExt:{default:"png"},image:{default:""},download:{type:Boolean,default:!1},downloadOptions:{default:{name:"vqr",extension:"png"}}},setup(e){const t=e;return(e,n)=>(Ys(),sa(Rs,null,{default:In(()=>[ca(oo,{"background-options":t.backgroundOptions,"button-name":t.buttonName,"corners-dot-options":t.cornersDotOptions,"corners-square-options":t.cornersSquareOptions,"dots-options":t.dotsOptions,download:t.download,"download-button":t.downloadButton,"download-options":t.downloadOptions,"file-ext":t.fileExt,height:t.height,image:t.image,"image-options":t.imageOptions,imgclass:t.imgclass,margin:t.margin,value:t.value,myclass:t.myclass,"qr-options":t.qrOptions,width:t.width},null,8,["background-options","button-name","corners-dot-options","corners-square-options","dots-options","download","download-button","download-options","file-ext","height","image","image-options","imgclass","margin","value","myclass","qr-options","width"])]),_:1}))}}),io={class:"modal-header"},lo={class:"modal-body"},co={key:0,class:"mfa-enabled-view"},uo={class:"action-buttons"},fo={key:0,class:"disable-confirm"},ho={class:"form-actions"},po=["disabled"],go={key:0,class:"fas fa-spinner fa-spin"},vo={key:1,class:"mfa-setup-view"},mo={key:0,class:"setup-intro"},bo=["disabled"],ko={key:0,class:"fas fa-spinner fa-spin"},yo={key:1,class:"setup-steps"},wo={class:"step"},_o={class:"step-content"},Lo={class:"qr-container"},xo={class:"qr-code"},Co={class:"manual-setup"},So={class:"secret-display"},Mo={class:"step"},Eo={class:"step-content"},Oo={class:"form-group"},Po={key:0,class:"error-message"},To=["disabled"],Do={key:0,class:"fas fa-spinner fa-spin"},Io={key:2,class:"setup-complete"},Ao={key:0,class:"modal-footer"};var Ro={__name:"MfaSetupDialog",props:{isEnabled:{type:Boolean,default:!1}},emits:["close","success"],setup(e,{emit:t}){const n=t,r=(0,o.KR)(!1),i=(0,o.KR)(null),l=(0,o.KR)(!1),f=(0,o.KR)(""),h=(0,o.KR)(""),p=(0,o.KR)(!1),g=async()=>{r.value=!0;try{const e=await(0,u.Em)("/api/auth/account-settings-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"generate_mfa_secret"})});"ok"===e.status&&e.mfa_secret?i.value={secret:e.mfa_secret,qr_url:`otpauth://totp/${encodeURIComponent("云阶快传")}:${encodeURIComponent(e.username)}?secret=${e.mfa_secret}&issuer=${encodeURIComponent("云阶快传")}`}:c.nk.error(e.message||"MFA设置失败")}catch(e){c.nk.error("MFA设置失败")}finally{r.value=!1}},v=async()=>{try{await navigator.clipboard.writeText(i.value.secret),c.nk.success("密钥已复制到剪贴板")}catch(e){c.nk.error("复制失败，请手动复制")}},m=()=>{h.value="",f.value=f.value.replace(/\D/g,"")},b=async()=>{if(6===f.value.length){r.value=!0;try{const e=await(0,u.Em)("/api/auth/account-settings-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"verify_and_enable_mfa",secret:i.value.secret,code:f.value})});"ok"===e.status?(l.value=!0,c.nk.success("双重认证启用成功"),setTimeout(()=>{n("success"),y()},2e3)):h.value=e.message||"验证码错误，请重试"}catch(e){h.value="MFA验证失败，请重试"}finally{r.value=!1}}else h.value="请输入6位验证码"},k=async()=>{r.value=!0;try{const e=await(0,u.Em)("/api/auth/account-settings-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"disable_mfa"})});"ok"===e.status?(c.nk.success("双重认证已禁用"),n("success"),y()):c.nk.error(e.message||"禁用失败")}catch(e){c.nk.error("禁用MFA失败")}finally{r.value=!1}},y=()=>{n("close")};return(t,n)=>((0,s.uX)(),(0,s.Wv)(s.Im,{to:"body"},[(0,s.Lk)("div",{class:"modal-overlay",onClick:y},[(0,s.Lk)("div",{class:"modal-content wide",onClick:n[3]||(n[3]=(0,d.D$)(()=>{},["stop"]))},[(0,s.Lk)("div",io,[(0,s.Lk)("h3",null,(0,a.v_)(e.isEnabled?"管理双重认证":"启用双重认证"),1),(0,s.Lk)("button",{class:"modal-close",onClick:y},n[4]||(n[4]=[(0,s.Lk)("i",{class:"fas fa-times"},null,-1)]))]),(0,s.Lk)("div",lo,[e.isEnabled?((0,s.uX)(),(0,s.CE)("div",co,[n[8]||(n[8]=(0,s.Lk)("div",{class:"status-info"},[(0,s.Lk)("div",{class:"status-icon enabled"},[(0,s.Lk)("i",{class:"fas fa-shield-alt"})]),(0,s.Lk)("div",{class:"status-text"},[(0,s.Lk)("h4",null,"双重认证已启用"),(0,s.Lk)("p",null,"您的账户受到双重认证保护")])],-1)),(0,s.Lk)("div",uo,[(0,s.Lk)("button",{class:"modal-btn secondary",onClick:n[0]||(n[0]=e=>p.value=!0)},n[5]||(n[5]=[(0,s.Lk)("i",{class:"fas fa-times-circle"},null,-1),(0,s.eW)(" 禁用认证 ")]))]),p.value?((0,s.uX)(),(0,s.CE)("div",fo,[n[7]||(n[7]=(0,s.Lk)("p",{class:"warning-text"},[(0,s.Lk)("i",{class:"fas fa-exclamation-triangle"}),(0,s.eW)(" 确定要禁用双重认证吗？禁用后您的账户安全性将降低。 ")],-1)),(0,s.Lk)("div",ho,[(0,s.Lk)("button",{class:"modal-btn secondary",onClick:n[1]||(n[1]=e=>p.value=!1)},"取消"),(0,s.Lk)("button",{class:"modal-btn primary",disabled:r.value,onClick:k},[r.value?((0,s.uX)(),(0,s.CE)("i",go)):(0,s.Q3)("",!0),n[6]||(n[6]=(0,s.eW)(" 确认禁用 "))],8,po)])])):(0,s.Q3)("",!0)])):((0,s.uX)(),(0,s.CE)("div",vo,[i.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",mo,[n[9]||(n[9]=(0,s.Lk)("div",{class:"intro-content"},[(0,s.Lk)("div",{class:"intro-icon"},[(0,s.Lk)("i",{class:"fas fa-shield-alt"})]),(0,s.Lk)("h4",null,"保护您的账户安全"),(0,s.Lk)("p",null,"双重认证为您的账户提供额外的安全保护。启用后，登录时需要输入手机应用生成的6位验证码。"),(0,s.Lk)("div",{class:"app-recommendations"},[(0,s.Lk)("p",null,[(0,s.Lk)("strong",null,"推荐应用：")]),(0,s.Lk)("ul",null,[(0,s.Lk)("li",null,"Google Authenticator"),(0,s.Lk)("li",null,"Microsoft Authenticator"),(0,s.Lk)("li",null,"Authy")])])],-1)),(0,s.Lk)("button",{class:"modal-btn primary",onClick:g,disabled:r.value},[r.value?((0,s.uX)(),(0,s.CE)("i",ko)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,a.v_)(r.value?"生成中...":"开始设置"),1)],8,bo)])),i.value&&!l.value?((0,s.uX)(),(0,s.CE)("div",yo,[(0,s.Lk)("div",wo,[n[14]||(n[14]=(0,s.Lk)("div",{class:"step-number"},"1",-1)),(0,s.Lk)("div",_o,[n[12]||(n[12]=(0,s.Lk)("h5",null,"扫描二维码",-1)),n[13]||(n[13]=(0,s.Lk)("p",null,"使用您的身份验证器应用扫描下方二维码：",-1)),(0,s.Lk)("div",Lo,[(0,s.Lk)("div",xo,[i.value?.qr_url?((0,s.uX)(),(0,s.Wv)((0,o.R1)(ro),{key:0,value:i.value.qr_url,size:200,level:"M","render-as":"canvas",background:"#ffffff",foreground:"#000000"},null,8,["value"])):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",Co,[n[11]||(n[11]=(0,s.Lk)("p",null,"或手动输入密钥：",-1)),(0,s.Lk)("div",So,[(0,s.Lk)("code",null,(0,a.v_)(i.value.secret),1),(0,s.Lk)("button",{class:"copy-btn",onClick:v},n[10]||(n[10]=[(0,s.Lk)("i",{class:"fas fa-copy"},null,-1)]))])])])]),(0,s.Lk)("div",Mo,[n[17]||(n[17]=(0,s.Lk)("div",{class:"step-number"},"2",-1)),(0,s.Lk)("div",Eo,[n[15]||(n[15]=(0,s.Lk)("h5",null,"输入验证码",-1)),n[16]||(n[16]=(0,s.Lk)("p",null,"输入身份验证器应用生成的6位验证码：",-1)),(0,s.Lk)("div",Oo,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>f.value=e),type:"text",class:"verification-input",placeholder:"000000",maxlength:"6",onInput:m},null,544),[[d.Jo,f.value]]),h.value?((0,s.uX)(),(0,s.CE)("div",Po,(0,a.v_)(h.value),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("button",{class:"modal-btn primary",disabled:6!==f.value.length||r.value,onClick:b},[r.value?((0,s.uX)(),(0,s.CE)("i",Do)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,a.v_)(r.value?"验证中...":"验证并启用"),1)],8,To)])])])):(0,s.Q3)("",!0),l.value?((0,s.uX)(),(0,s.CE)("div",Io,n[18]||(n[18]=[(0,s.Lk)("div",{class:"success-icon"},[(0,s.Lk)("i",{class:"fas fa-check-circle"})],-1),(0,s.Lk)("h4",null,"双重认证启用成功！",-1),(0,s.Lk)("p",null,"您的账户现在受到双重认证保护。请妥善保存您的身份验证器应用。",-1)]))):(0,s.Q3)("",!0)]))]),p.value||i.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",Ao,[(0,s.Lk)("button",{class:"modal-btn secondary",onClick:y},(0,a.v_)(l.value?"完成":"取消"),1)]))])])]))}};const Bo=(0,x.A)(Ro,[["__scopeId","data-v-34a26968"]]);var No=Bo;const qo={class:"modal-body"},zo={key:0,class:"current-info"},Fo={class:"info-value"},Uo={class:"form-group"},Xo={key:0,class:"error-message"},jo={class:"modal-footer"},Qo=["disabled"],Wo={key:0,class:"fas fa-spinner fa-spin"};var Ko={__name:"UsernameUpdateDialog",props:{currentUsername:{type:String,default:""}},emits:["close","success"],setup(e,{emit:t}){const n=e,r=t,i=(0,o.KR)(!1),l=(0,o.Kh)({newUsername:""}),f=(0,o.Kh)({newUsername:""}),h=e=>{const t=l[e];switch(e){case"newUsername":t.trim()?t.length<3||t.length>20?f[e]="账户名长度应为3-20位":/^[a-zA-Z0-9_]+$/.test(t)?t===n.currentUsername?f[e]="新账户名不能与当前账户名相同":f[e]="":f[e]="账户名只能包含字母、数字和下划线":f[e]="请输入新账户名";break}},p=e=>{f[e]&&(f[e]="")},g=(0,s.EW)(()=>{const e=l.newUsername.trim(),t=!Object.values(f).some(e=>""!==e);return e&&t}),v=async()=>{if(Object.keys(l).forEach(e=>{h(e)}),g.value){i.value=!0;try{const e=await(0,u.Em)("/api/auth/account-settings-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"update_username",new_username:l.newUsername.trim()})});"ok"===e.status?(c.nk.success(e.message||"账户名修改成功"),r("success",l.newUsername.trim()),setTimeout(async()=>{try{await fetch("/api/auth/logout.php",{method:"POST",credentials:"include"})}catch(e){}window.location.href="/login"},1500),m()):c.nk.error(e.message||"账户名修改失败")}catch(e){c.nk.error("账户名修改失败")}finally{i.value=!1}}else c.nk.error("请检查输入内容")},m=()=>{r("close")};return(t,n)=>((0,s.uX)(),(0,s.Wv)(s.Im,{to:"body"},[(0,s.Lk)("div",{class:"modal-overlay",onClick:m},[(0,s.Lk)("div",{class:"modal-content",onClick:n[3]||(n[3]=(0,d.D$)(()=>{},["stop"]))},[(0,s.Lk)("div",{class:"modal-header"},[n[5]||(n[5]=(0,s.Lk)("h3",null,"修改账户名",-1)),(0,s.Lk)("button",{class:"modal-close",onClick:m},n[4]||(n[4]=[(0,s.Lk)("i",{class:"fas fa-times"},null,-1)]))]),(0,s.Lk)("div",qo,[n[9]||(n[9]=(0,s.Lk)("div",{class:"warning-notice"},[(0,s.Lk)("div",{class:"warning-icon"},[(0,s.Lk)("i",{class:"fas fa-exclamation-triangle"})]),(0,s.Lk)("div",{class:"warning-text"},[(0,s.Lk)("h4",null,"重要提醒"),(0,s.Lk)("p",null,"修改账户名后，您的登录令牌将失效，系统会自动退出登录，需要使用新账户名重新登录。")])],-1)),e.currentUsername?((0,s.uX)(),(0,s.CE)("div",zo,[n[6]||(n[6]=(0,s.Lk)("label",{class:"info-label"},"当前账户名",-1)),(0,s.Lk)("div",Fo,(0,a.v_)(e.currentUsername),1)])):(0,s.Q3)("",!0),(0,s.Lk)("div",Uo,[n[7]||(n[7]=(0,s.Lk)("label",{class:"form-label"},"新账户名",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>l.newUsername=e),type:"text",class:"form-input",placeholder:"请输入新账户名",onBlur:n[1]||(n[1]=e=>h("newUsername")),onInput:n[2]||(n[2]=e=>p("newUsername"))},null,544),[[d.Jo,l.newUsername]]),f.newUsername?((0,s.uX)(),(0,s.CE)("div",Xo,(0,a.v_)(f.newUsername),1)):(0,s.Q3)("",!0),n[8]||(n[8]=(0,s.Lk)("div",{class:"form-hint"}," 账户名用于登录，建议使用字母、数字或下划线，长度3-20位 ",-1))])]),(0,s.Lk)("div",jo,[(0,s.Lk)("button",{class:"modal-btn secondary",onClick:m},"取消"),(0,s.Lk)("button",{class:"modal-btn primary",disabled:!g.value||i.value,onClick:v},[i.value?((0,s.uX)(),(0,s.CE)("i",Wo)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,a.v_)(i.value?"修改中...":"确认修改"),1)],8,Qo)])])])]))}};const Ho=(0,x.A)(Ko,[["__scopeId","data-v-25589714"]]);var Jo=Ho;const $o={class:"file-list-container"},Vo={class:"file-card"},Yo={key:0,class:"loading-box"},Go={key:1,class:"profile-list"},Zo={class:"profile-row"},er={class:"row-value"},tr={class:"profile-row"},nr={class:"row-value"},sr={key:0},ar={class:"profile-row"},or={class:"row-value"};var rr={__name:"Set-Account",setup(e){const t=(0,o.KR)(null),n=(0,o.KR)(!1),r=(0,o.KR)(!1),i=(0,o.KR)(!1),l=(0,o.KR)(!1),d=(0,o.KR)(!1),f=async()=>{try{const e=await(0,u.Em)("/api/auth/account-settings-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"action=get_info"});"ok"===e.status?(t.value={username:e.username,email:e.email,mfa_enabled:e.mfa_enabled},d.value=!1):"visit_jwt_missing"===e.status||"visit_jwt_invalid"===e.status?(c.nk.error(e.message||"访问令牌无效，请重新登录"),window.dispatchEvent(new CustomEvent("auth:login-required",{detail:{reason:e.status,message:e.message}}))):c.nk.error(e.message||"获取用户信息失败")}catch(e){c.nk.error("获取用户信息失败")}},h=()=>{l.value=!0},p=()=>{n.value=!0},g=()=>{r.value=!0},v=()=>{i.value=!0},m=()=>{f()},b=()=>{f()};return(0,s.sV)(()=>{f()}),(e,o)=>((0,s.uX)(),(0,s.CE)("div",$o,[(0,s.Lk)("div",Vo,[o[16]||(o[16]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("h3",null,"账号设置")],-1)),t.value?((0,s.uX)(),(0,s.CE)("div",Go,[(0,s.Lk)("div",Zo,[o[7]||(o[7]=(0,s.Lk)("span",{class:"row-label"},"用户名：",-1)),(0,s.Lk)("span",er,(0,a.v_)(t.value.username),1),(0,s.Lk)("button",{class:"action-btn small",onClick:h},o[6]||(o[6]=[(0,s.Lk)("i",{class:"fas fa-edit"},null,-1),(0,s.eW)(" 修改 ")]))]),(0,s.Lk)("div",{class:"profile-row"},[o[9]||(o[9]=(0,s.Lk)("span",{class:"row-label"},"密码：",-1)),o[10]||(o[10]=(0,s.Lk)("span",{class:"row-value"},"******",-1)),(0,s.Lk)("button",{class:"action-btn small",onClick:p},o[8]||(o[8]=[(0,s.Lk)("i",{class:"fas fa-key"},null,-1),(0,s.eW)(" 修改 ")]))]),(0,s.Lk)("div",tr,[o[13]||(o[13]=(0,s.Lk)("span",{class:"row-label"},"邮箱：",-1)),(0,s.Lk)("span",nr,[d.value?((0,s.uX)(),(0,s.CE)("span",sr,(0,a.v_)(t.value.email||"未设置"),1)):(0,s.Q3)("",!0),d.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:1,class:"action-btn small",onClick:o[0]||(o[0]=e=>d.value=!0)},o[11]||(o[11]=[(0,s.Lk)("i",{class:"fas fa-eye"},null,-1),(0,s.eW)(" 显示邮箱 ")])))]),d.value?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"action-btn small",onClick:g},o[12]||(o[12]=[(0,s.Lk)("i",{class:"fas fa-envelope"},null,-1),(0,s.eW)(" 修改 ")]))):(0,s.Q3)("",!0)]),(0,s.Lk)("div",ar,[o[15]||(o[15]=(0,s.Lk)("span",{class:"row-label"},"二次验证：",-1)),(0,s.Lk)("span",or,[(0,s.Lk)("span",{class:(0,a.C4)(["mfa-status",t.value.mfa_enabled?"enabled":"disabled"])},(0,a.v_)(t.value.mfa_enabled?"已启用":"未启用"),3)]),(0,s.Lk)("button",{class:"action-btn small",onClick:v},[o[14]||(o[14]=(0,s.Lk)("i",{class:"fas fa-shield-alt"},null,-1)),(0,s.eW)(" "+(0,a.v_)(t.value?.mfa_enabled?"管理":"启用"),1)])])])):((0,s.uX)(),(0,s.CE)("div",Yo,o[5]||(o[5]=[(0,s.Lk)("i",{class:"fas fa-circle-notch fa-spin"},null,-1),(0,s.Lk)("span",null,"加载中...",-1)]))),n.value?((0,s.uX)(),(0,s.Wv)(S,{key:2,onClose:o[1]||(o[1]=e=>n.value=!1),onSuccess:m})):(0,s.Q3)("",!0),r.value?((0,s.uX)(),(0,s.Wv)(N,{key:3,"current-email":t.value?.email,onClose:o[2]||(o[2]=e=>r.value=!1),onSuccess:m},null,8,["current-email"])):(0,s.Q3)("",!0),i.value?((0,s.uX)(),(0,s.Wv)(No,{key:4,"is-enabled":t.value?.mfa_enabled,onClose:o[3]||(o[3]=e=>i.value=!1),onSuccess:m},null,8,["is-enabled"])):(0,s.Q3)("",!0),l.value?((0,s.uX)(),(0,s.Wv)(Jo,{key:5,"current-username":t.value?.username,onClose:o[4]||(o[4]=e=>l.value=!1),onSuccess:b},null,8,["current-username"])):(0,s.Q3)("",!0)])]))}};const ir=(0,x.A)(rr,[["__scopeId","data-v-7d444a9c"]]);var lr=ir;const cr={class:"modal-header"},ur={class:"modal-title"},dr={class:"modal-body"},fr={key:0,class:"current-info"},hr={class:"info-value"},pr={class:"user-info-row"},gr={class:"info-item"},vr={class:"info-item"},mr={class:"form-group"},br=["placeholder","disabled"],kr={key:0,class:"error-message"},yr={class:"form-group"},wr={class:"form-label"},_r={class:"password-input-container"},Lr=["type","placeholder"],xr={key:0,class:"error-message"},Cr={class:"form-hint"},Sr={class:"form-group"},Mr={key:0,class:"error-message"},Er={class:"modal-footer"},Or=["disabled"],Pr={key:0,class:"fas fa-spinner fa-spin"};var Tr={__name:"UserFormDialog",props:{visible:{type:Boolean,default:!1},user:{type:Object,default:null},isEdit:{type:Boolean,default:!1}},emits:["close","success"],setup(e,{emit:t}){const n=e,r=t,i=(0,o.KR)(!1),l=(0,o.KR)(!1),h=(0,o.Kh)({username:"",password:"",email:""}),p=(0,o.Kh)({username:"",password:"",email:""}),g=(0,s.EW)(()=>{if(n.isEdit){const e=(0,f.Oj)(h.password);return h.password.trim()&&e.valid&&!p.username&&!p.password&&!p.email}{const e=(0,f.TU)(h.username),t=(0,f.Oj)(h.password);return h.username.trim()&&h.password.trim()&&e.valid&&t.valid&&!p.username&&!p.password&&!p.email}});(0,s.wB)(()=>n.visible,e=>{e&&(v(),n.isEdit&&n.user&&(h.username=n.user.username||"",h.email=n.user.email||"",h.password=""))});const v=()=>{h.username="",h.password="",h.email="",p.username="",p.password="",p.email="",l.value=!1},m=e=>{const t=h[e];switch(e){case"username":if(n.isEdit)p[e]="";else{const n=(0,f.TU)(t);p[e]=n.valid?"":n.message}break;case"password":{const s=(0,f.Oj)(t);n.isEdit?t.trim()?p[e]=s.valid?"":s.message:p[e]="请输入新密码":t.trim()?p[e]=s.valid?"":s.message:p[e]="请输入密码";break}case"email":if(t.trim()){const n=(0,f.DT)(t);p[e]=n.valid?"":n.message}else p[e]="";break}},b=e=>{p[e]=""},k=()=>{r("close")},y=async()=>{if(m("username"),m("password"),m("email"),g.value){i.value=!0;try{if(n.isEdit){if(!h.password.trim())return c.nk.error("编辑模式下必须输入新密码"),void(i.value=!1);const e=new URLSearchParams;e.append("action","reset_password"),e.append("user_id",n.user.id),e.append("new_password",h.password.trim());const t=await(0,u.AT)("/api/auth/user-management-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e});"ok"===t.status?(c.nk.success("密码修改成功"),r("success")):(r("close"),setTimeout(()=>{c.nk.error(t.message||"密码修改失败")},100))}else{const e=new URLSearchParams;e.append("action","create_user"),e.append("username",h.username.trim()),e.append("password",h.password.trim()),e.append("email",h.email.trim());const t=await(0,u.AT)("/api/auth/user-management-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:e});"ok"===t.status?(c.nk.success(t.message||"用户创建成功"),r("success")):(r("close"),setTimeout(()=>{c.nk.error(t.message||"用户创建失败")},100))}}catch(e){r("close"),setTimeout(()=>{c.nk.error("网络错误，请稍后重试")},100)}finally{i.value=!1}}else c.nk.error("请检查表单输入")};return(t,n)=>e.visible?((0,s.uX)(),(0,s.Wv)(s.Im,{key:0,to:"body"},[(0,s.Lk)("div",{class:"modal-overlay",onClick:k},[(0,s.Lk)("div",{class:"modal-content",onClick:n[10]||(n[10]=(0,d.D$)(()=>{},["stop"]))},[(0,s.Lk)("div",cr,[(0,s.Lk)("h3",ur,(0,a.v_)(e.isEdit?"重置用户密码":"添加用户"),1),(0,s.Lk)("button",{class:"modal-close",onClick:k},n[11]||(n[11]=[(0,s.Lk)("i",{class:"fas fa-times"},null,-1)]))]),(0,s.Lk)("div",dr,[e.isEdit&&e.user?((0,s.uX)(),(0,s.CE)("div",fr,[n[12]||(n[12]=(0,s.Lk)("label",{class:"info-label"},"目标用户",-1)),(0,s.Lk)("div",hr,[(0,s.Lk)("div",pr,[(0,s.Lk)("span",gr,"用户名: "+(0,a.v_)(e.user.username),1),(0,s.Lk)("span",vr,"ID: "+(0,a.v_)(e.user.id),1)])])])):(0,s.Q3)("",!0),(0,s.Lk)("div",mr,[n[13]||(n[13]=(0,s.Lk)("label",{class:"form-label"},"用户名 *",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":n[0]||(n[0]=e=>h.username=e),type:"text",class:"form-input",placeholder:e.isEdit?"保持为空则不修改":"请输入用户名",disabled:e.isEdit,onBlur:n[1]||(n[1]=e=>m("username")),onInput:n[2]||(n[2]=e=>b("username"))},null,40,br),[[d.Jo,h.username]]),p.username?((0,s.uX)(),(0,s.CE)("div",kr,(0,a.v_)(p.username),1)):(0,s.Q3)("",!0),n[14]||(n[14]=(0,s.Lk)("div",{class:"form-hint"}," 用户名用于登录，只能包含字母、数字和下划线，长度3-30位 ",-1))]),(0,s.Lk)("div",yr,[(0,s.Lk)("label",wr,(0,a.v_)(e.isEdit?"新密码 *":"密码 *"),1),(0,s.Lk)("div",_r,[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>h.password=e),type:l.value?"text":"password",class:"form-input",placeholder:e.isEdit?"请输入新密码":"请输入密码",onBlur:n[4]||(n[4]=e=>m("password")),onInput:n[5]||(n[5]=e=>b("password"))},null,40,Lr),[[d.hp,h.password]]),(0,s.Lk)("button",{type:"button",class:"password-toggle",onClick:n[6]||(n[6]=e=>l.value=!l.value)},[(0,s.Lk)("i",{class:(0,a.C4)(l.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),p.password?((0,s.uX)(),(0,s.CE)("div",xr,(0,a.v_)(p.password),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",Cr,(0,a.v_)(e.isEdit?"输入新密码以重置用户密码":"密码至少8位，包含大写、小写、数字、特殊字符"),1)]),(0,s.Lk)("div",Sr,[n[15]||(n[15]=(0,s.Lk)("label",{class:"form-label"},"邮箱地址",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":n[7]||(n[7]=e=>h.email=e),type:"email",class:"form-input",placeholder:"请输入邮箱地址（可选）",onBlur:n[8]||(n[8]=e=>m("email")),onInput:n[9]||(n[9]=e=>b("email"))},null,544),[[d.Jo,h.email]]),p.email?((0,s.uX)(),(0,s.CE)("div",Mr,(0,a.v_)(p.email),1)):(0,s.Q3)("",!0),n[16]||(n[16]=(0,s.Lk)("div",{class:"form-hint"}," 邮箱用于找回密码和接收通知（可选） ",-1))])]),(0,s.Lk)("div",Er,[(0,s.Lk)("button",{class:"modal-btn secondary",onClick:k},"取消"),(0,s.Lk)("button",{class:(0,a.C4)(["modal-btn",e.isEdit?"danger":"primary"]),disabled:!g.value||i.value,onClick:y},[i.value?((0,s.uX)(),(0,s.CE)("i",Pr)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,a.v_)(i.value?e.isEdit?"重置中...":"创建中...":e.isEdit?"确认重置":"创建用户"),1)],10,Or)])])])])):(0,s.Q3)("",!0)}};const Dr=(0,x.A)(Tr,[["__scopeId","data-v-13fe2471"]]);var Ir=Dr;const Ar={class:"file-list-container"},Rr={class:"file-card"},Br={class:"search-and-batch-actions"},Nr={class:"left-section"},qr={key:0,class:"stats-row"},zr={class:"stat-item"},Fr={class:"stat-item"},Ur={class:"stat-item"},Xr={key:0,class:"loading-cell"},jr={key:1,class:"table-wrapper"},Qr={class:"file-table table-min"},Wr={class:"file-name-cell"},Kr={key:0,class:"email"},Hr={key:1,class:"no-email"},Jr={key:0,class:"ip-address"},$r={key:1,class:"no-data"},Vr={key:0,class:"login-time"},Yr={key:1,class:"no-data"},Gr={class:"action-buttons"},Zr=["onClick"],ei=["onClick"],ti=["onClick"],ni={key:2,class:"empty-cell"},si={key:3,class:"pagination-container"},ai={class:"page-info"},oi={class:"pagination"},ri=["disabled"],ii={class:"page-info"},li=["disabled"];var ci={__name:"User-Management",setup(e){const t=(0,o.KR)(!1),n=(0,o.KR)([]),r=(0,o.KR)(null),i=(0,o.Kh)({page:1,limit:20,total:0,total_pages:0}),l=(0,o.Kh)({visible:!1,user:null,isEdit:!1}),d=(0,s.WQ)("confirm"),f=async()=>{t.value=!0;try{const e=await(0,u.AT)("/api/auth/user-management-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"list_users",page:i.page,limit:i.limit})});"ok"===e.status?(n.value=e.data||[],Object.assign(i,e.pagination)):c.nk.error(e.message||"加载用户列表失败")}catch(e){c.nk.error("网络错误，请稍后重试")}finally{t.value=!1}},h=async()=>{try{const e=await(0,u.AT)("/api/auth/user-management-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"get_statistics"})});"ok"===e.status&&(r.value=e.data)}catch(e){}},p=e=>{i.page=e,f()},g=e=>{if(!e)return"-";try{const t=new Date(e);return t.toLocaleString("zh-CN")}catch(t){return e}},v=()=>{l.visible=!0,l.user=null,l.isEdit=!1},m=e=>{l.visible=!0,l.user={...e},l.isEdit=!0},b=()=>{l.visible=!1,l.user=null,l.isEdit=!1},k=()=>{b(),f(),h()},y=async e=>{try{const t=await d.open({title:"确认操作",message:`确定要关闭用户 "${e.username}" 的MFA功能吗？`,confirmButtonText:"确定",cancelButtonText:"取消"});if(!t)return;const n=await(0,u.AT)("/api/auth/user-management-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"disable_mfa",user_id:e.id})});"ok"===n.status?(c.nk.success(n.message||"MFA已关闭"),f(),h()):c.nk.error(n.message||"MFA关闭失败")}catch(t){c.nk.error("网络错误，请稍后重试")}},w=async e=>{try{const t=await d.open({title:"确认删除",message:`确定要删除用户 "${e.username}" 吗？此操作不可恢复。`,confirmButtonText:"删除",cancelButtonText:"取消"});if(!t)return;const n=await(0,u.AT)("/api/auth/user-management-api.php",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"delete_user",user_id:e.id})});"ok"===n.status?(c.nk.success(n.message||"用户删除成功"),f(),h()):c.nk.error(n.message||"用户删除失败")}catch(t){c.nk.error("网络错误，请稍后重试")}};return(0,s.sV)(()=>{f(),h()}),(e,o)=>((0,s.uX)(),(0,s.CE)("div",Ar,[(0,s.Lk)("div",Rr,[(0,s.Lk)("div",Br,[(0,s.Lk)("div",Nr,[o[5]||(o[5]=(0,s.Lk)("h3",null,"用户管理",-1)),r.value?((0,s.uX)(),(0,s.CE)("div",qr,[(0,s.Lk)("div",zr,[o[2]||(o[2]=(0,s.Lk)("i",{class:"fas fa-users"},null,-1)),(0,s.Lk)("span",null,"总用户数: "+(0,a.v_)(r.value.total_users),1)]),(0,s.Lk)("div",Fr,[o[3]||(o[3]=(0,s.Lk)("i",{class:"fas fa-shield-alt"},null,-1)),(0,s.Lk)("span",null,"启用MFA: "+(0,a.v_)(r.value.mfa_enabled_users),1)]),(0,s.Lk)("div",Ur,[o[4]||(o[4]=(0,s.Lk)("i",{class:"fas fa-envelope"},null,-1)),(0,s.Lk)("span",null,"有邮箱: "+(0,a.v_)(r.value.users_with_email),1)])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",{class:"right-section"},[(0,s.Lk)("div",{class:"action-buttons"},[(0,s.Lk)("button",{class:"batch-btn",onClick:v},o[6]||(o[6]=[(0,s.Lk)("i",{class:"fas fa-user-plus"},null,-1),(0,s.eW)(" 添加用户 ")])),(0,s.Lk)("button",{class:"batch-btn",onClick:f},o[7]||(o[7]=[(0,s.Lk)("i",{class:"fas fa-sync-alt"},null,-1),(0,s.eW)(" 刷新 ")]))])])]),t.value?((0,s.uX)(),(0,s.CE)("div",Xr,o[8]||(o[8]=[(0,s.Lk)("i",{class:"fas fa-circle-notch fa-spin"},null,-1),(0,s.Lk)("span",null,"加载中...",-1)]))):n.value.length>0?((0,s.uX)(),(0,s.CE)("div",jr,[(0,s.Lk)("table",Qr,[o[13]||(o[13]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"ID"),(0,s.Lk)("th",null,"用户名"),(0,s.Lk)("th",null,"邮箱"),(0,s.Lk)("th",null,"MFA状态"),(0,s.Lk)("th",null,"最后登录IP"),(0,s.Lk)("th",null,"最后登录时间"),(0,s.Lk)("th",null,"操作")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(n.value,e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id},[(0,s.Lk)("td",null,(0,a.v_)(e.id),1),(0,s.Lk)("td",null,[(0,s.Lk)("div",Wr,[o[9]||(o[9]=(0,s.Lk)("i",{class:"fas fa-user file-icon"},null,-1)),(0,s.Lk)("span",null,(0,a.v_)(e.username),1)])]),(0,s.Lk)("td",null,[e.email?((0,s.uX)(),(0,s.CE)("span",Kr,(0,a.v_)(e.email),1)):((0,s.uX)(),(0,s.CE)("span",Hr,"未设置"))]),(0,s.Lk)("td",null,[(0,s.Lk)("span",{class:(0,a.C4)(["mfa-badge",e.mfa_enabled?"enabled":"disabled"])},[(0,s.Lk)("i",{class:(0,a.C4)(e.mfa_enabled?"fas fa-shield-alt":"fas fa-shield")},null,2),(0,s.eW)(" "+(0,a.v_)(e.mfa_enabled?"已启用":"未启用"),1)],2)]),(0,s.Lk)("td",null,[e.ip?((0,s.uX)(),(0,s.CE)("span",Jr,(0,a.v_)(e.ip),1)):((0,s.uX)(),(0,s.CE)("span",$r,"-"))]),(0,s.Lk)("td",null,[e.last_login?((0,s.uX)(),(0,s.CE)("span",Vr,(0,a.v_)(g(e.last_login)),1)):((0,s.uX)(),(0,s.CE)("span",Yr,"从未登录"))]),(0,s.Lk)("td",null,[(0,s.Lk)("div",Gr,[(0,s.Lk)("button",{class:"action-btn",onClick:t=>m(e),title:"重置密码"},o[10]||(o[10]=[(0,s.Lk)("i",{class:"fas fa-key"},null,-1)]),8,Zr),e.mfa_enabled?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"action-btn",onClick:t=>y(e),title:"关闭MFA"},o[11]||(o[11]=[(0,s.Lk)("i",{class:"fas fa-shield"},null,-1)]),8,ei)):(0,s.Q3)("",!0),(0,s.Lk)("button",{class:"action-btn delete-btn",onClick:t=>w(e),title:"删除用户"},o[12]||(o[12]=[(0,s.Lk)("i",{class:"fas fa-trash"},null,-1)]),8,ti)])])]))),128))])])])):((0,s.uX)(),(0,s.CE)("div",ni,o[14]||(o[14]=[(0,s.Lk)("i",{class:"fas fa-users"},null,-1),(0,s.Lk)("h4",null,"暂无用户",-1),(0,s.Lk)("p",null,'点击"添加用户"按钮创建第一个用户',-1)]))),i.total>0?((0,s.uX)(),(0,s.CE)("div",si,[(0,s.Lk)("div",ai," 显示第 "+(0,a.v_)((i.page-1)*i.limit+1)+" - "+(0,a.v_)(Math.min(i.page*i.limit,i.total))+" 条， 共 "+(0,a.v_)(i.total)+" 条 ",1),(0,s.Lk)("div",oi,[(0,s.Lk)("button",{disabled:i.page<=1,onClick:o[0]||(o[0]=e=>p(i.page-1))},o[15]||(o[15]=[(0,s.Lk)("i",{class:"fas fa-chevron-left"},null,-1)]),8,ri),(0,s.Lk)("span",ii,(0,a.v_)(i.page)+" / "+(0,a.v_)(i.total_pages),1),(0,s.Lk)("button",{disabled:i.page>=i.total_pages,onClick:o[1]||(o[1]=e=>p(i.page+1))},o[16]||(o[16]=[(0,s.Lk)("i",{class:"fas fa-chevron-right"},null,-1)]),8,li)])])):(0,s.Q3)("",!0)]),(0,s.bF)(Ir,{visible:l.visible,user:l.user,"is-edit":l.isEdit,onClose:b,onSuccess:k},null,8,["visible","user","is-edit"])]))}};const ui=(0,x.A)(ci,[["__scopeId","data-v-7b35d8c2"]]);var di=ui;const fi={class:"site-settings-container"},hi={class:"site-settings-card"},pi={key:0,class:"loading-cell"},gi={key:1,class:"site-settings-section"},vi={class:"site-config-editor"},mi={class:"site-editor-actions"},bi=["disabled"],ki={class:"site-settings-card"},yi={key:0,class:"loading-cell"},wi={key:1,class:"site-settings-section"},_i={class:"site-config-editor"},Li={class:"site-editor-actions"},xi=["disabled"];function Ci(e,t,n,o,r,i){return(0,s.uX)(),(0,s.CE)("div",fi,[t[18]||(t[18]=(0,s.Fv)('<div class="site-settings-card" data-v-b4d7bbb8><div class="site-usage-title" data-v-b4d7bbb8><i class="fas fa-info-circle" data-v-b4d7bbb8></i> 使用说明 </div><div class="site-usage-content" data-v-b4d7bbb8><p data-v-b4d7bbb8>请注意：</p><ul data-v-b4d7bbb8><li data-v-b4d7bbb8>本软件不提供直接部署的在线更新功能，推荐使用 <strong data-v-b4d7bbb8>Docker 容器</strong> 方式进行部署和升级。</li><li data-v-b4d7bbb8>本软件仅 <strong data-v-b4d7bbb8>PHP 后端</strong> 代码开源，前端 Vue 代码暂不开放，整体基于 <strong data-v-b4d7bbb8>Apache 2.0 协议</strong> 开源。</li><li data-v-b4d7bbb8>软件特色：极简配置，首次集成自研 <strong data-v-b4d7bbb8>StarUI v3 框架</strong>，无需复杂环境即可运行。</li><li data-v-b4d7bbb8>配置区域采用 <strong data-v-b4d7bbb8>JSON 样式</strong> 存储，请确保格式正确，修改后需点击“保存配置”按钮生效。</li><li data-v-b4d7bbb8>如需恢复原始配置，可点击“重置”按钮。</li></ul></div><div class="site-usage-links" data-v-b4d7bbb8><a href="https://www.xcdream.com/ykc" target="_blank" class="site-usage-link external" data-v-b4d7bbb8><i class="fas fa-globe" data-v-b4d7bbb8></i> 官网 </a><a href="https://github.com/defeatedperson/ykc" target="_blank" class="site-usage-link external" data-v-b4d7bbb8><i class="fab fa-github" data-v-b4d7bbb8></i> 开源仓库 </a><a href="https://re.xcdream.com/9390.html" target="_blank" class="site-usage-link external" data-v-b4d7bbb8><i class="fas fa-book" data-v-b4d7bbb8></i> 文档中心 </a><a href="https://re.xcdream.com/links/qiafan" target="_blank" class="site-usage-link external" data-v-b4d7bbb8><i class="fas fa-heart" data-v-b4d7bbb8></i> 支持我们 </a></div></div>',1)),(0,s.Lk)("div",hi,[t[12]||(t[12]=(0,s.Lk)("div",{class:"site-settings-header"},[(0,s.Lk)("h3",null,"站点信息")],-1)),r.siteLoading?((0,s.uX)(),(0,s.CE)("div",pi,t[8]||(t[8]=[(0,s.Lk)("i",{class:"fas fa-circle-notch fa-spin"},null,-1),(0,s.Lk)("span",null,"加载中...",-1)]))):((0,s.uX)(),(0,s.CE)("div",gi,[(0,s.Lk)("div",vi,[(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=e=>r.siteConfigText=e),placeholder:"请输入站点配置JSON...",rows:"8",class:"site-json-editor"},null,512),[[d.Jo,r.siteConfigText]]),(0,s.Lk)("div",mi,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>i.resetSiteConfig&&i.resetSiteConfig(...e)),class:"batch-btn delete-btn"},t[9]||(t[9]=[(0,s.Lk)("i",{class:"fas fa-undo"},null,-1),(0,s.eW)(" 重置 ")])),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>i.loadSiteConfig&&i.loadSiteConfig(...e)),class:"batch-btn"},t[10]||(t[10]=[(0,s.Lk)("i",{class:"fas fa-sync"},null,-1),(0,s.eW)(" 重新加载 ")])),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.saveSiteConfig&&i.saveSiteConfig(...e)),class:"batch-btn",disabled:r.saving},[t[11]||(t[11]=(0,s.Lk)("i",{class:"fas fa-save"},null,-1)),(0,s.eW)(" "+(0,a.v_)(r.saving?"保存中...":"保存配置"),1)],8,bi)])])]))]),(0,s.Lk)("div",ki,[t[17]||(t[17]=(0,s.Lk)("div",{class:"site-settings-header"},[(0,s.Lk)("h3",null,"菜单配置")],-1)),r.menuLoading?((0,s.uX)(),(0,s.CE)("div",yi,t[13]||(t[13]=[(0,s.Lk)("i",{class:"fas fa-circle-notch fa-spin"},null,-1),(0,s.Lk)("span",null,"加载中...",-1)]))):((0,s.uX)(),(0,s.CE)("div",wi,[(0,s.Lk)("div",_i,[(0,s.bo)((0,s.Lk)("textarea",{"onUpdate:modelValue":t[4]||(t[4]=e=>r.menuConfigText=e),placeholder:"请输入菜单配置JSON...",rows:"8",class:"site-json-editor"},null,512),[[d.Jo,r.menuConfigText]]),(0,s.Lk)("div",Li,[(0,s.Lk)("button",{onClick:t[5]||(t[5]=(...e)=>i.resetMenuConfig&&i.resetMenuConfig(...e)),class:"batch-btn delete-btn"},t[14]||(t[14]=[(0,s.Lk)("i",{class:"fas fa-undo"},null,-1),(0,s.eW)(" 重置 ")])),(0,s.Lk)("button",{onClick:t[6]||(t[6]=(...e)=>i.loadMenuConfig&&i.loadMenuConfig(...e)),class:"batch-btn"},t[15]||(t[15]=[(0,s.Lk)("i",{class:"fas fa-sync"},null,-1),(0,s.eW)(" 重新加载 ")])),(0,s.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>i.saveMenuConfig&&i.saveMenuConfig(...e)),class:"batch-btn",disabled:r.saving},[t[16]||(t[16]=(0,s.Lk)("i",{class:"fas fa-save"},null,-1)),(0,s.eW)(" "+(0,a.v_)(r.saving?"保存中...":"保存配置"),1)],8,xi)])])]))])])}var Si={name:"SiteSettings",setup(){const e=(0,s.WQ)("notification");return{notification:e}},data(){return{siteConfigText:"",menuConfigText:"",originalSiteConfig:"",originalMenuConfig:"",saving:!1,siteLoading:!1,menuLoading:!1}},async mounted(){await this.loadSiteConfig(),await this.loadMenuConfig()},methods:{async loadSiteConfig(){this.siteLoading=!0;try{const e=new FormData;e.append("action","get_site_config");const t=await(0,u.AT)("/api/site.php",{method:"POST",body:e});if("ok"===t.status){const e=JSON.stringify(t.data,null,2);this.siteConfigText=e,this.originalSiteConfig=e}else this.showMessage(t.message||"加载站点配置失败","error")}catch(e){this.showMessage("加载站点配置失败: "+e.message,"error")}finally{this.siteLoading=!1}},async saveSiteConfig(){if(this.siteConfigText.trim()){try{JSON.parse(this.siteConfigText)}catch(e){return void this.showMessage("JSON格式错误: "+e.message,"error")}this.saving=!0;try{const e=new FormData;e.append("action","update_site_config"),e.append("config",this.siteConfigText);const t=await(0,u.AT)("/api/site.php",{method:"POST",body:e});"ok"===t.status?(this.originalSiteConfig=this.siteConfigText,this.showMessage("站点配置保存成功","success"),window._siteConfigCache=null):this.showMessage(t.message||"保存失败","error")}catch(e){this.showMessage("保存失败: "+e.message,"error")}finally{this.saving=!1}}else this.showMessage("配置内容不能为空","error")},resetSiteConfig(){const e={siteName:"云阶快传",keywords:"文件传输, 云存储, 快速分享, 在线传输, 云阶快传",description:"云阶快传是一款支持多端文件快速传输与分享的云服务平台，安全高效，操作便捷。",icp:"粤ICP备12345678号",securityRecord:"粤公网安备 12345678901234号"};this.siteConfigText=JSON.stringify(e,null,2),this.showMessage("已重置为默认站点配置","success")},async loadMenuConfig(){this.menuLoading=!0;try{const e=new FormData;e.append("action","get_menu_config");const t=await(0,u.AT)("/api/site.php",{method:"POST",body:e});if("ok"===t.status){const e=JSON.stringify(t.data,null,2);this.menuConfigText=e,this.originalMenuConfig=e}else this.showMessage(t.message||"加载菜单配置失败","error")}catch(e){this.showMessage("加载菜单配置失败: "+e.message,"error")}finally{this.menuLoading=!1}},async saveMenuConfig(){if(this.menuConfigText.trim()){try{JSON.parse(this.menuConfigText)}catch(e){return void this.showMessage("JSON格式错误: "+e.message,"error")}this.saving=!0;try{const e=new FormData;e.append("action","update_menu_config"),e.append("config",this.menuConfigText);const t=await(0,u.AT)("/api/site.php",{method:"POST",body:e});"ok"===t.status?(this.originalMenuConfig=this.menuConfigText,this.showMessage("菜单配置保存成功","success")):this.showMessage(t.message||"保存失败","error")}catch(e){this.showMessage("保存失败: "+e.message,"error")}finally{this.saving=!1}}else this.showMessage("配置内容不能为空","error")},resetMenuConfig(){const e=[{name:"首页",url:"/"},{name:"文档中心",url:"https://www.xcdream.com/home"},{name:"开源仓库",url:"https://www.xcdream.com/home"},{name:"用户社区",url:"https://www.xcdream.com/home"}];this.menuConfigText=JSON.stringify(e,null,2),this.showMessage("已重置为默认菜单配置","success")},showMessage(e,t="success"){this.notification&&this.notification.open({title:"success"===t?"操作成功":"操作失败",message:e,type:t,duration:3e3})}}};const Mi=(0,x.A)(Si,[["render",Ci],["__scopeId","data-v-b4d7bbb8"]]);var Ei=Mi;const Oi={class:"home-view"},Pi={class:"home"},Ti={key:0,class:"admin-switch"},Di={class:"switch-tabs"};var Ii={__name:"Setting-View",setup(e){const t=(0,o.KR)("account"),n=(0,o.KR)(null),c=(0,s.EW)(()=>n.value&&!0===n.value.is_admin);return(0,s.sV)(async()=>{try{const e=await(0,u.Bf)();if(e){const e=(0,u.HW)();n.value=e}}catch(e){}}),(e,n)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",Oi,[(0,s.bF)(i.A),(0,s.bF)(r.A)]),(0,s.Lk)("div",Pi,[c.value?((0,s.uX)(),(0,s.CE)("div",Ti,[(0,s.Lk)("div",Di,[(0,s.Lk)("button",{class:(0,a.C4)(["tab-btn",{active:"account"===t.value}]),onClick:n[0]||(n[0]=e=>t.value="account")},n[3]||(n[3]=[(0,s.Lk)("i",{class:"fas fa-user-cog"},null,-1),(0,s.eW)(" 账号设置 ")]),2),(0,s.Lk)("button",{class:(0,a.C4)(["tab-btn",{active:"users"===t.value}]),onClick:n[1]||(n[1]=e=>t.value="users")},n[4]||(n[4]=[(0,s.Lk)("i",{class:"fas fa-users-cog"},null,-1),(0,s.eW)(" 用户管理 ")]),2),(0,s.Lk)("button",{class:(0,a.C4)(["tab-btn",{active:"site"===t.value}]),onClick:n[2]||(n[2]=e=>t.value="site")},n[5]||(n[5]=[(0,s.Lk)("i",{class:"fas fa-cog"},null,-1),(0,s.eW)(" 站点配置 ")]),2)])])):(0,s.Q3)("",!0),"account"===t.value?((0,s.uX)(),(0,s.Wv)(lr,{key:1})):(0,s.Q3)("",!0),"users"===t.value?((0,s.uX)(),(0,s.Wv)(di,{key:2})):(0,s.Q3)("",!0),"site"===t.value?((0,s.uX)(),(0,s.Wv)(Ei,{key:3})):(0,s.Q3)("",!0)]),(0,s.bF)(l.A)],64))}};const Ai=(0,x.A)(Ii,[["__scopeId","data-v-46db7208"]]);var Ri=Ai},7510:function(e,t,n){n.d(t,{DT:function(){return o},Oj:function(){return a},TU:function(){return s}});const s=e=>{if(!e)return{valid:!1,message:"用户名不能为空"};if(e.length<3)return{valid:!1,message:"用户名至少需要3个字符"};if(e.length>20)return{valid:!1,message:"用户名不能超过20个字符"};const t=/^[a-zA-Z0-9_-]+$/;return t.test(e)?{valid:!0,message:""}:{valid:!1,message:"用户名只能包含字母、数字、下划线和中划线"}},a=e=>{if(!e)return{valid:!1,message:"密码不能为空",strength:"weak"};if(e.length<8)return{valid:!1,message:"密码至少需要8个字符",strength:"weak"};if(e.length>128)return{valid:!1,message:"密码不能超过128个字符",strength:"weak"};let t="weak",n=0;return/[a-z]/.test(e)&&n++,/[A-Z]/.test(e)&&n++,/\d/.test(e)&&n++,/[!@#$%^&*(),.?":{}|<>]/.test(e)&&n++,e.length>=12&&n++,n>=4?t="strong":n>=3&&(t="medium"),n<3?{valid:!1,message:"密码强度不足，请包含大小写字母、数字和特殊字符",strength:t}:{valid:!0,message:"",strength:t}},o=e=>{if(!e)return{valid:!1,message:"邮箱不能为空"};const t=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;return t.test(e)?e.length>254?{valid:!1,message:"邮箱地址过长"}:{valid:!0,message:""}:{valid:!1,message:"请输入有效的邮箱地址"}}}}]);
//# sourceMappingURL=28.83830fe0.js.map