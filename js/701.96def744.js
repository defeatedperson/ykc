"use strict";(self["webpackChunkmy_vue_app"]=self["webpackChunkmy_vue_app"]||[]).push([[701],{1810:function(a,e,n){n.d(e,{A:function(){return d}});n(4114);var s=n(6436),o=n(7959),t=n(5167);const i={class:"halo-background"},l=100;var c={__name:"Back-Ground",setup(a){const e=(0,t.KR)([]),n=()=>{const a=1.2*Math.random()+.4,e=100*Math.random(),n=100*Math.random(),s=.5*Math.random()+.3,o=2*Math.random()+1;return{id:Date.now()+Math.random(),style:{width:`${a}px`,height:`${a}px`,left:`${e}vw`,top:`${n}vh`,opacity:s,filter:`blur(${o}px)`}}};return(0,s.sV)(()=>{for(let a=0;a<l;a++)e.value.push(n())}),(a,n)=>((0,s.uX)(),(0,s.CE)("div",i,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.value,a=>((0,s.uX)(),(0,s.CE)("div",{key:a.id,style:(0,o.Tr)(a.style),class:"halo-star"},null,4))),128)),n[0]||(n[0]=(0,s.Lk)("div",{class:"halo-glow halo-glow1"},null,-1)),n[1]||(n[1]=(0,s.Lk)("div",{class:"halo-glow halo-glow2"},null,-1)),n[2]||(n[2]=(0,s.Lk)("div",{class:"halo-glow halo-glow3"},null,-1))]))}},r=n(5932);const u=(0,r.A)(c,[["__scopeId","data-v-a14dfe84"]]);var d=u},4605:function(a,e,n){n.d(e,{A:function(){return h}});var s=n(6436),o=n(7959);const t={class:"foot-menu"},i={class:"footer-content"},l={class:"left-info"},c={class:"copyright"},r={class:"right-info"},u={class:"record-info"},d={key:0,href:"https://beian.miit.gov.cn",target:"_blank"},v={key:1},k={key:2,href:"https://beian.mps.gov.cn/#/query/webSearch",target:"_blank",class:"security-record"};function p(a,e,n,p,m,f){return(0,s.uX)(),(0,s.CE)("footer",t,[(0,s.Lk)("div",i,[(0,s.Lk)("div",l,[(0,s.Lk)("p",c,"© "+(0,o.v_)(m.currentYear)+" "+(0,o.v_)(m.siteConfig.siteName||"云阶快传")+" | 版权所有",1),e[0]||(e[0]=(0,s.Lk)("div",{class:"powered-by"},"由 YKC 驱动 | StarUI V3",-1))]),(0,s.Lk)("div",r,[(0,s.Lk)("div",u,[m.siteConfig.icp?((0,s.uX)(),(0,s.CE)("a",d,(0,o.v_)(m.siteConfig.icp),1)):(0,s.Q3)("",!0),m.siteConfig.icp&&m.siteConfig.securityRecord?((0,s.uX)(),(0,s.CE)("span",v," ")):(0,s.Q3)("",!0),m.siteConfig.securityRecord?((0,s.uX)(),(0,s.CE)("a",k,[e[1]||(e[1]=(0,s.Lk)("img",{src:"/img/beian.png",alt:"网安备案",class:"beian-icon"},null,-1)),(0,s.eW)(" "+(0,o.v_)(m.siteConfig.securityRecord),1)])):(0,s.Q3)("",!0)])])])])}var m={name:"FootMenu",data(){return{siteConfig:{siteName:"云阶快传",icp:"",securityRecord:""},currentYear:(new Date).getFullYear()}},async mounted(){await this.loadSiteConfig()},methods:{async loadSiteConfig(){if(window._siteConfigCache)this.siteConfig=window._siteConfigCache;else try{const a=window.location.protocol,e=window.location.host,n=`${a}//${e}/api/data/site.json`,s=await fetch(n,{method:"GET",headers:{"Content-Type":"application/json"}});if(s.ok){const a=await s.json(),e={siteName:a.siteName||"云阶快传",icp:a.icp||"",securityRecord:a.securityRecord||""};this.siteConfig=e,window._siteConfigCache=e}}catch(a){}}}},f=n(5932);const g=(0,f.A)(m,[["render",p],["__scopeId","data-v-ebe30562"]]);var h=g},5932:function(a,e){e.A=(a,e)=>{const n=a.__vccOpts||a;for(const[s,o]of e)n[s]=o;return n}},6173:function(a,e,n){n.d(e,{A:function(){return $}});n(4114);var s=n(6436),o=n(7959),t=n(1469),i=n(5167),l=n(3229),c=n(648),r=n(4127);const u={class:"top-menu-container"},d={class:"desktop-menu"},v={class:"menu-content"},k={class:"menu-left"},p={class:"menu-items"},m=["onClick"],f={class:"menu-right"},g={class:"user-details"},h={class:"user-name"},L={class:"welcome-text"},w={class:"user-avatar"},C=["src"],y={class:"mobile-top-bar"},b={class:"menu-content"},_={class:"user-name"},E={class:"user-avatar"},R=["src"],X={class:"sidebar-menu"},K=["onClick"],M=5e3;var A={__name:"Top-Menu",setup(a){const e=(0,l.rd)(),n=(0,l.lq)(),A=(0,s.WQ)("confirm"),I=a=>{a&&a.stopPropagation(),q(),A.open({title:"退出确认",message:"确定要退出登录吗？",confirmButtonText:"确定",cancelButtonText:"取消",onConfirm:async()=>{try{const a=await(0,c.ri)();a&&r.nk.success("已成功退出登录"),(0,c.Mu)(),window.location.href="/login"}catch(a){(0,c.Mu)(),window.location.href="/login"}}})},W=(0,i.KR)([{name:"文件",path:"/file",icon:"fas fa-folder"},{name:"分享",path:"/share",icon:"fas fa-share-alt"},{name:"设置",path:"/settings",icon:"fas fa-cog"}]);let $=null,x=0;const T=(0,s.EW)(()=>{const a=Date.now();if($&&a-x<M)return $;const e=(0,c.HW)();return $={nickname:e?.username||"游客",avatar:"/img/default-avatar.png"},x=a,$}),F=()=>{const a=["/img/logo.png","/img/default-avatar.png"];a.forEach(a=>{const e=new Image;e.src=a})},G=(0,s.EW)(()=>{const a=(new Date).getHours();return a<6?"夜深了":a<9?"早上好":a<12?"上午好":a<14?"中午好":a<18?"下午好":a<22?"晚上好":"夜深了"}),Q=(0,i.KR)(!1),S=(0,i.KR)(!1),D=(0,i.KR)(!1),N=(0,i.KR)(null),Y=(0,s.EW)(()=>n.path),j=a=>{a.stopPropagation(),D.value=!D.value},q=()=>{D.value=!1},B=a=>{if(N.value&&!N.value.contains(a.target)){const e=document.querySelector(".mobile-user-info");e&&!e.contains(a.target)?q():e||q()}},P=()=>{Q.value=window.innerWidth<768,Q.value||(S.value=!1)},V=()=>{S.value=!S.value,S.value?document.body.style.overflow="hidden":document.body.style.overflow=""},z=()=>{S.value=!1,document.body.style.overflow=""},H=a=>{e.push(a)},O=a=>{a&&a.stopPropagation(),q(),e.push("/settings")};return(0,s.sV)(()=>{F(),P(),window.addEventListener("resize",P),document.addEventListener("click",B)}),(0,s.hi)(()=>{window.removeEventListener("resize",P),document.removeEventListener("click",B)}),(a,e)=>((0,s.uX)(),(0,s.CE)("div",u,[(0,s.bo)((0,s.Lk)("div",d,[(0,s.Lk)("div",v,[(0,s.Lk)("div",k,[e[0]||(e[0]=(0,s.Lk)("div",{class:"logo-container"},[(0,s.Lk)("img",{src:"/img/logo.png",alt:"Logo",class:"logo-image"})],-1)),(0,s.Lk)("div",p,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(W.value,(a,e)=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:(0,o.C4)(["menu-item",{active:Y.value===a.path}]),onClick:e=>H(a.path)},[(0,s.Lk)("i",{class:(0,o.C4)(a.icon)},null,2),(0,s.Lk)("span",null,(0,o.v_)(a.name),1)],10,m))),128))])]),(0,s.Lk)("div",f,[(0,s.Lk)("div",{class:"user-info",onClick:j,style:{cursor:"pointer"}},[(0,s.Lk)("div",g,[(0,s.Lk)("div",h,(0,o.v_)(T.value.nickname||"游客"),1),(0,s.Lk)("div",L,(0,o.v_)(G.value),1)]),(0,s.Lk)("div",{class:"custom-dropdown",ref_key:"dropdownRef",ref:N},[(0,s.Lk)("div",w,[(0,s.Lk)("img",{src:T.value.avatar||"/img/default-avatar.png",alt:"Avatar"},null,8,C)]),(0,s.Lk)("div",{class:(0,o.C4)(["dropdown-menu",{show:D.value}])},[(0,s.Lk)("div",{class:"dropdown-item",onClick:O},e[1]||(e[1]=[(0,s.Lk)("i",{class:"fas fa-user-cog"},null,-1),(0,s.Lk)("span",null,"账号设置",-1)])),e[3]||(e[3]=(0,s.Lk)("div",{class:"dropdown-divider"},null,-1)),(0,s.Lk)("div",{class:"dropdown-item",onClick:I},e[2]||(e[2]=[(0,s.Lk)("i",{class:"fas fa-sign-out-alt"},null,-1),(0,s.Lk)("span",null,"退出登录",-1)]))],2)],512)])])])],512),[[t.aG,!Q.value]]),(0,s.bo)((0,s.Lk)("div",y,[(0,s.Lk)("div",b,[(0,s.Lk)("div",{class:"menu-toggle",onClick:V},[(0,s.Lk)("i",{class:(0,o.C4)(S.value?"fas fa-times":"fas fa-bars")},null,2)]),(0,s.Lk)("div",{class:"mobile-user-info",onClick:j,style:{cursor:"pointer"}},[(0,s.Lk)("div",_,(0,o.v_)(T.value.nickname||"游客"),1),(0,s.Lk)("div",E,[(0,s.Lk)("img",{src:T.value.avatar||"/img/default-avatar.png",alt:"Avatar"},null,8,R)]),(0,s.Lk)("div",{class:(0,o.C4)(["dropdown-menu mobile-dropdown",{show:D.value}])},[(0,s.Lk)("div",{class:"dropdown-item",onClick:O},e[4]||(e[4]=[(0,s.Lk)("i",{class:"fas fa-user-cog"},null,-1),(0,s.Lk)("span",null,"账号设置",-1)])),e[6]||(e[6]=(0,s.Lk)("div",{class:"dropdown-divider"},null,-1)),(0,s.Lk)("div",{class:"dropdown-item",onClick:I},e[5]||(e[5]=[(0,s.Lk)("i",{class:"fas fa-sign-out-alt"},null,-1),(0,s.Lk)("span",null,"退出登录",-1)]))],2)])])],512),[[t.aG,Q.value]]),(0,s.bo)((0,s.Lk)("div",{class:(0,o.C4)(["mobile-sidebar",{open:S.value}])},[e[7]||(e[7]=(0,s.Lk)("div",{class:"sidebar-logo"},[(0,s.Lk)("img",{src:"/img/logo.png",alt:"Logo",class:"logo-image"})],-1)),(0,s.Lk)("div",X,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(W.value,(a,e)=>((0,s.uX)(),(0,s.CE)("div",{key:e,class:(0,o.C4)(["sidebar-menu-item",{active:Y.value===a.path}]),onClick:e=>{H(a.path),z()}},[(0,s.Lk)("i",{class:(0,o.C4)(a.icon)},null,2),(0,s.Lk)("span",null,(0,o.v_)(a.name),1)],10,K))),128))])],2),[[t.aG,Q.value]]),S.value?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"sidebar-overlay",onClick:z})):(0,s.Q3)("",!0)]))}},I=n(5932);const W=(0,I.A)(A,[["__scopeId","data-v-cdfea8b8"]]);var $=W}}]);
//# sourceMappingURL=701.96def744.js.map